window.matchMedia=window.matchMedia||function(t,e){"use strict";var i,n=t.documentElement,a=n.firstElementChild||n.firstChild,o=t.createElement("body"),s=t.createElement("div");return s.id="mq-test-1",s.style.cssText="position:absolute;top:-100em",o.style.background="none",o.appendChild(s),function(t){return s.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(o,a),i=42===s.offsetWidth,n.removeChild(o),{matches:i,media:t}}}(document),function(t){"$:nomunge";function e(e){function a(){e?s.removeData(e):d&&delete i[d]}function o(){l.id=setTimeout(function(){l.fn()},p)}var s,r=this,l={},c=e?t.fn:t,h=arguments,u=4,d=h[1],p=h[2],f=h[3];if("string"!=typeof d&&(u--,d=e=0,p=h[1],f=h[2]),e?(s=r.eq(0)).data(e,l=s.data(e)||{}):d&&(l=i[d]||(i[d]={})),l.id&&clearTimeout(l.id),delete l.id,f)l.fn=function(t){"string"==typeof f&&(f=c[f]),!0!==f.apply(r,n.call(h,u))||t?a():o()},o();else{if(l.fn)return void 0===p?a():l.fn(!1===p),!0;a()}}var i={},n=Array.prototype.slice;t.doTimeout=function(){return e.apply(window,[0].concat(n.call(arguments)))},t.fn.doTimeout=function(){var t=n.call(arguments),i=e.apply(this,["doTimeout"+t[0]].concat(t));return"number"==typeof t[0]||"number"==typeof t[1]?this:i}}(jQuery),function(t){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t(jQuery)}(function(t){function e(t){return t}function i(t){return decodeURIComponent(t.replace(a," "))}function n(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return o.json?JSON.parse(t):t}catch(t){}}var a=/\+/g,o=t.cookie=function(a,s,r){if(void 0!==s){if("number"==typeof(r=t.extend({},o.defaults,r)).expires){var l=r.expires,c=r.expires=new Date;c.setDate(c.getDate()+l)}return s=o.json?JSON.stringify(s):String(s),document.cookie=[encodeURIComponent(a),"=",o.raw?s:encodeURIComponent(s),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}for(var h=o.raw?e:i,u=document.cookie.split("; "),d=a?void 0:{},p=0,f=u.length;p<f;p++){var g=u[p].split("="),m=h(g.shift()),v=h(g.join("="));if(a&&a===m){d=n(v);break}a||(d[m]=n(v))}return d};o.defaults={},t.removeCookie=function(e,i){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend(i,{expires:-1})),!0)}}),function(t,e,i,n){var a=e.document,o=t(a),s=t(e),r=Array.prototype,l=!0,c=3e4,h=!1,u=navigator.userAgent.toLowerCase(),d=e.location.hash.replace(/#\//,""),p=e.location.protocol,f=Math,g=function(){},m=function(){return!1},v=function(){var t=3,e=a.createElement("div"),i=e.getElementsByTagName("i");do{e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e"}while(i[0]);return t>4?t:a.documentMode||n}(),y=function(){return{html:a.documentElement,body:a.body,head:a.getElementsByTagName("head")[0],title:a.title}},w=e.parent!==e.self,b="data ready thumbnail loadstart loadfinish image play pause progress fullscreen_enter fullscreen_exit idle_enter idle_exit rescale lightbox_open lightbox_close lightbox_image",_=function(){var e=[];return t.each(b.split(" "),function(t,i){e.push(i),/_/.test(i)&&e.push(i.replace(/_/g,""))}),e}(),x=function(e){var i;return"object"!=typeof e?e:(t.each(e,function(n,a){/^[a-z]+_/.test(n)&&(i="",t.each(n.split("_"),function(t,e){i+=t>0?e.substr(0,1).toUpperCase()+e.substr(1):e}),e[i]=a,delete e[n])}),e)},k=function(e){return t.inArray(e,_)>-1?i[e.toUpperCase()]:e},T={youtube:{reg:/https?:\/\/(?:[a-zA_Z]{2,3}.)?(?:youtube\.com\/watch\?)((?:[\w\d\-\_\=]+&amp;(?:amp;)?)*v(?:&lt;[A-Z]+&gt;)?=([0-9a-zA-Z\-\_]+))/i,embed:function(){return"http://www.youtube.com/embed/"+this.id},getUrl:function(){return p+"//gdata.youtube.com/feeds/api/videos/"+this.id+"?v=2&alt=json-in-script&callback=?"},get_thumb:function(t){return t.entry.media$group.media$thumbnail[2].url},get_image:function(t){return t.entry.yt$hd?p+"//img.youtube.com/vi/"+this.id+"/0.jpg":t.entry.media$group.media$thumbnail[3].url}},vimeo:{reg:/https?:\/\/(?:www\.)?(vimeo\.com)\/(?:hd#)?([0-9]+)/i,embed:function(){return"http://player.vimeo.com/video/"+this.id},getUrl:function(){return p+"//vimeo.com/api/v2/video/"+this.id+".json?callback=?"},get_thumb:function(t){return t[0].thumbnail_medium},get_image:function(t){return t[0].thumbnail_large}},dailymotion:{reg:/https?:\/\/(?:www\.)?(dailymotion\.com)\/video\/([^_]+)/,embed:function(){return p+"//www.dailymotion.com/embed/video/"+this.id},getUrl:function(){return"https://api.dailymotion.com/video/"+this.id+"?fields=thumbnail_240_url,thumbnail_720_url&callback=?"},get_thumb:function(t){return t.thumbnail_240_url},get_image:function(t){return t.thumbnail_720_url}},_inst:[]},C=function(e,i){for(var n=0;n<T._inst.length;n++)if(T._inst[n].id===i&&T._inst[n].type==e)return T._inst[n];this.type=e,this.id=i,this.readys=[],T._inst.push(this);var a=this;t.extend(this,T[e]),t.getJSON(this.getUrl(),function(e){a.data=e,t.each(a.readys,function(t,e){e(a.data)}),a.readys=[]}),this.getMedia=function(t,e,i){i=i||g;var n=this,a=function(i){e(n["get_"+t](i))};try{n.data?a(n.data):n.readys.push(a)}catch(t){i()}}},I=function(t){var e;for(var i in T)if((e=t&&T[i].reg&&t.match(T[i].reg))&&e.length)return{id:e[2],provider:i};return!1},S={support:function(){var t=y().html;return!w&&(t.requestFullscreen||t.msRequestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen)}(),callback:g,enter:function(t,e,i){this.instance=t,this.callback=e||g,(i=i||y().html).requestFullscreen?i.requestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullScreen&&i.webkitRequestFullScreen()},exit:function(t){this.callback=t||g,a.exitFullscreen?a.exitFullscreen():a.msExitFullscreen?a.msExitFullscreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.webkitCancelFullScreen&&a.webkitCancelFullScreen()},instance:null,listen:function(){if(this.support){var t=function(){if(S.instance){var t=S.instance._fullscreen;a.fullscreen||a.mozFullScreen||a.webkitIsFullScreen||a.msFullscreenElement&&null!==a.msFullscreenElement?t._enter(S.callback):t._exit(S.callback)}};a.addEventListener("fullscreenchange",t,!1),a.addEventListener("MSFullscreenChange",t,!1),a.addEventListener("mozfullscreenchange",t,!1),a.addEventListener("webkitfullscreenchange",t,!1)}}},O=[],E=[],A=!1,D=!1,P=[],$=[],N=function(e){$.push(e),t.each(P,function(t,i){i._options.theme!=e.name&&(i._initialized||i._options.theme)||(i.theme=e,i._init.call(i))})},F={clearTimer:function(e){t.each(i.get(),function(){this.clearTimer(e)})},addTimer:function(e){t.each(i.get(),function(){this.addTimer(e)})},array:function(t){return r.slice.call(t,0)},create:function(t,e){e=e||"div";var i=a.createElement(e);return i.className=t,i},removeFromArray:function(e,i){return t.each(e,function(t,n){if(n==i)return e.splice(t,1),!1}),e},getScriptPath:function(e){var i=(e=e||t("script:last").attr("src")).split("/");return 1==i.length?"":(i.pop(),i.join("/")+"/")},animate:function(){var n,o,s,r,l,c,h,u=function(t){var i,n="transition WebkitTransition MozTransition OTransition".split(" ");if(e.opera)return!1;for(i=0;n[i];i++)if(void 0!==t[n[i]])return n[i];return!1}((a.body||a.documentElement).style),d={MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[u],p={_default:[.25,.1,.25,1],galleria:[.645,.045,.355,1],galleriaIn:[.55,.085,.68,.53],galleriaOut:[.25,.46,.45,.94],ease:[.25,0,.25,1],linear:[.25,.25,.75,.75],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},f=function(e,i,n){var a={};n=n||"transition",t.each("webkit moz ms o".split(" "),function(){a["-"+this+"-"+n]=i}),e.css(a)},m=function(t){f(t,"none","transition"),i.WEBKIT&&i.TOUCH&&(f(t,"translate3d(0,0,0)","transform"),t.data("revert")&&(t.css(t.data("revert")),t.data("revert",null)))};return function(a,v,y){if(y=t.extend({duration:400,complete:g,stop:!1},y),a=t(a),!y.duration)return a.css(v),void y.complete.call(a[0]);u?(y.stop&&(a.off(d),m(a)),n=!1,t.each(v,function(t,e){h=a.css(t),F.parseValue(h)!=F.parseValue(e)&&(n=!0),a.css(t,h)}),n?(o=[],s=y.easing in p?p[y.easing]:p._default,r=" "+y.duration+"ms cubic-bezier("+s.join(",")+")",e.setTimeout(function(e,n,a,s){return function(){e.one(n,function(t){return function(){m(t),y.complete.call(t[0])}}(e)),i.WEBKIT&&i.TOUCH&&(l={},c=[0,0,0],t.each(["left","top"],function(t,i){i in a&&(c[t]=F.parseValue(a[i])-F.parseValue(e.css(i))+"px",l[i]=a[i],delete a[i])}),(c[0]||c[1])&&(e.data("revert",l),o.push("-webkit-transform"+s),f(e,"translate3d("+c.join(",")+")","transform"))),t.each(a,function(t,e){o.push(t+s)}),f(e,o.join(",")),e.css(a)}}(a,d,v,r),2)):e.setTimeout(function(){y.complete.call(a[0])},y.duration)):a.animate(v,y)}}(),removeAlpha:function(t){if(t instanceof jQuery&&(t=t[0]),v<9&&t){var e=t.style,i=t.currentStyle,n=i&&i.filter||e.filter||"";/alpha/.test(n)&&(e.filter=n.replace(/alpha\([^)]*\)/i,""))}},forceStyles:function(e,i){(e=t(e)).attr("style")&&e.data("styles",e.attr("style")).removeAttr("style"),e.css(i)},revertStyles:function(){t.each(F.array(arguments),function(e,i){(i=t(i)).removeAttr("style"),i.attr("style",""),i.data("styles")&&i.attr("style",i.data("styles")).data("styles",null)})},moveOut:function(t){F.forceStyles(t,{position:"absolute",left:-1e4})},moveIn:function(){F.revertStyles.apply(F,F.array(arguments))},hide:function(e,i,n){n=n||g;var a=t(e);e=a[0],a.data("opacity")||a.data("opacity",a.css("opacity"));var o={opacity:0};if(i){var s=v<9&&e?function(){F.removeAlpha(e),e.style.visibility="hidden",n.call(e)}:n;F.animate(e,o,{duration:i,complete:s,stop:!0})}else v<9&&e?(F.removeAlpha(e),e.style.visibility="hidden"):a.css(o)},show:function(e,i,n){n=n||g;var a=t(e);e=a[0];var o={opacity:parseFloat(a.data("opacity"))||1};if(i){v<9&&(a.css("opacity",0),e.style.visibility="visible");var s=v<9&&e?function(){1==o.opacity&&F.removeAlpha(e),n.call(e)}:n;F.animate(e,o,{duration:i,complete:s,stop:!0})}else v<9&&1==o.opacity&&e?(F.removeAlpha(e),e.style.visibility="visible"):a.css(o)},wait:function(n){i._waiters=i._waiters||[],n=t.extend({until:m,success:g,error:function(){i.raise("Could not complete wait function.")},timeout:3e3},n);var a,o,s,r=F.timestamp(),l=function(){return o=F.timestamp(),a=o-r,F.removeFromArray(i._waiters,s),n.until(a)?(n.success(),!1):"number"==typeof n.timeout&&o>=r+n.timeout?(n.error(),!1):void i._waiters.push(s=e.setTimeout(l,10))};i._waiters.push(s=e.setTimeout(l,10))},toggleQuality:function(t,e){7!==v&&8!==v||!t||"IMG"!=t.nodeName.toUpperCase()||(void 0===e&&(e="nearest-neighbor"===t.style.msInterpolationMode),t.style.msInterpolationMode=e?"bicubic":"nearest-neighbor")},insertStyleTag:function(e,i){if(!i||!t("#"+i).length){var n=a.createElement("style");if(i&&(n.id=i),y().head.appendChild(n),n.styleSheet)n.styleSheet.cssText=e;else{var o=a.createTextNode(e);n.appendChild(o)}}},loadScript:function(e,i){var n=!1,a=t("<script>").attr({src:e,async:!0}).get(0);a.onload=a.onreadystatechange=function(){n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n=!0,a.onload=a.onreadystatechange=null,"function"==typeof i&&i.call(this,this))},y().head.appendChild(a)},parseValue:function(t){if("number"==typeof t)return t;if("string"==typeof t){var e=t.match(/\-?\d|\./g);return e&&e.constructor===Array?1*e.join(""):0}return 0},timestamp:function(){return(new Date).getTime()},loadCSS:function(e,o,s){var r,l;if(t("link[rel=stylesheet]").each(function(){if(new RegExp(e).test(this.href))return r=this,!1}),"function"==typeof o&&(s=o,o=n),s=s||g,r)return s.call(r,r),r;if(l=a.styleSheets.length,t("#"+o).length)t("#"+o).attr("href",e),l--;else{r=t("<link>").attr({rel:"stylesheet",href:e,id:o}).get(0);var c=t('link[rel="stylesheet"], style');if(c.length?c.get(0).parentNode.insertBefore(r,c[0]):y().head.appendChild(r),v&&l>=31)return void i.raise("You have reached the browser stylesheet limit (31)",!0)}if("function"==typeof s){var h=t("<s>").attr("id","galleria-loader").hide().appendTo(y().body);F.wait({until:function(){return 1==h.height()},success:function(){h.remove(),s.call(r,r)},error:function(){h.remove(),i.raise("Theme CSS could not load after 20 sec. "+(i.QUIRK?"Your browser is in Quirks Mode, please add a correct doctype.":"Please download the latest theme at http://galleria.io/customer/."),!0)},timeout:5e3})}return r}},H=function(e){return F.insertStyleTag(".galleria-videoicon{width:60px;height:60px;position:absolute;top:50%;left:50%;z-index:1;margin:-30px 0 0 -30px;cursor:pointer;background:#000;background:rgba(0,0,0,.8);border-radius:3px;-webkit-transition:all 150ms}.galleria-videoicon i{width:0px;height:0px;border-style:solid;border-width:10px 0 10px 16px;display:block;border-color:transparent transparent transparent #ffffff;margin:20px 0 0 22px}.galleria-image:hover .galleria-videoicon{background:#000}","galleria-videoicon"),t(F.create("galleria-videoicon")).html("<i></i>").appendTo(e).click(function(){t(this).siblings("img").mouseup()})},L=function(){var e=function(e,i,n,a){var o=this.getOptions("easing"),s=this.getStageWidth(),r={left:s*(e.rewind?-1:1)},l={left:0};n?(r.opacity=0,l.opacity=1):r.opacity=1,t(e.next).css(r),F.animate(e.next,l,{duration:e.speed,complete:function(t){return function(){i(),t.css({left:0})}}(t(e.next).add(e.prev)),queue:!1,easing:o}),a&&(e.rewind=!e.rewind),e.prev&&(r={left:0},l={left:s*(e.rewind?1:-1)},n&&(r.opacity=1,l.opacity=0),t(e.prev).css(r),F.animate(e.prev,l,{duration:e.speed,queue:!1,easing:o,complete:function(){t(this).css("opacity",0)}}))};return{active:!1,init:function(t,e,i){L.effects.hasOwnProperty(t)&&L.effects[t].call(this,e,i)},effects:{fade:function(e,i){t(e.next).css({opacity:0,left:0}),F.animate(e.next,{opacity:1},{duration:e.speed,complete:i}),e.prev&&(t(e.prev).css("opacity",1).show(),F.animate(e.prev,{opacity:0},{duration:e.speed}))},flash:function(e,i){t(e.next).css({opacity:0,left:0}),e.prev?F.animate(e.prev,{opacity:0},{duration:e.speed/2,complete:function(){F.animate(e.next,{opacity:1},{duration:e.speed,complete:i})}}):F.animate(e.next,{opacity:1},{duration:e.speed,complete:i})},pulse:function(e,i){e.prev&&t(e.prev).hide(),t(e.next).css({opacity:0,left:0}).show(),F.animate(e.next,{opacity:1},{duration:e.speed,complete:i})},slide:function(t,i){e.apply(this,F.array(arguments))},fadeslide:function(t,i){e.apply(this,F.array(arguments).concat([!0]))},doorslide:function(t,i){e.apply(this,F.array(arguments).concat([!1,!0]))}}}}();S.listen(),t.event.special["click:fast"]={propagate:!0,add:function(i){var n=function(t){if(t.touches&&t.touches.length){var e=t.touches[0];return{x:e.pageX,y:e.pageY}}},a={touched:!1,touchdown:!1,coords:{x:0,y:0},evObj:{}};t(this).data({clickstate:a,timer:0}).on("touchstart.fast",function(i){e.clearTimeout(t(this).data("timer")),t(this).data("clickstate",{touched:!0,touchdown:!0,coords:n(i.originalEvent),evObj:i})}).on("touchmove.fast",function(e){var i=n(e.originalEvent),a=t(this).data("clickstate");Math.max(Math.abs(a.coords.x-i.x),Math.abs(a.coords.y-i.y))>6&&t(this).data("clickstate",t.extend(a,{touchdown:!1}))}).on("touchend.fast",function(n){var o=t(this);o.data("clickstate").touchdown&&i.handler.call(this,n),o.data("timer",e.setTimeout(function(){o.data("clickstate",a)},400))}).on("click.fast",function(e){if(t(this).data("clickstate").touched)return!1;t(this).data("clickstate",a),i.handler.call(this,e)})},remove:function(){t(this).off("touchstart.fast touchmove.fast touchend.fast click.fast")}},s.on("orientationchange",function(){t(this).resize()}),(i=function(){var r=this;this._options={},this._playing=!1,this._playtime=5e3,this._active=null,this._queue={length:0},this._data=[],this._dom={},this._thumbnails=[],this._layers=[],this._initialized=!1,this._firstrun=!1,this._stageWidth=0,this._stageHeight=0,this._target=n,this._binds=[],this._id=parseInt(1e4*f.random(),10);var l="container stage images image-nav image-nav-left image-nav-right info info-text info-title info-description thumbnails thumbnails-list thumbnails-container thumb-nav-left thumb-nav-right loader counter tooltip";t.each(l.split(" "),function(t,e){r._dom[e]=F.create("galleria-"+e)}),t.each("current total".split(" "),function(t,e){r._dom[e]=F.create("galleria-"+e,"span")});var c=this._keyboard={keys:{UP:38,DOWN:40,LEFT:37,RIGHT:39,RETURN:13,ESCAPE:27,BACKSPACE:8,SPACE:32},map:{},bound:!1,press:function(t){var e=t.keyCode||t.which;e in c.map&&"function"==typeof c.map[e]&&c.map[e].call(r,t)},attach:function(t){var e,i;for(e in t)t.hasOwnProperty(e)&&((i=e.toUpperCase())in c.keys?c.map[c.keys[i]]=t[e]:c.map[i]=t[e]);c.bound||(c.bound=!0,o.on("keydown",c.press))},detach:function(){c.bound=!1,c.map={},o.off("keydown",c.press)}},h=this._controls={0:n,1:n,active:0,swap:function(){h.active=h.active?0:1},getActive:function(){return r._options.swipe?h.slides[r._active]:h[h.active]},getNext:function(){return r._options.swipe?h.slides[r.getNext(r._active)]:h[1-h.active]},slides:[],frames:[],layers:[]},d=this._carousel={next:r.$("thumb-nav-right"),prev:r.$("thumb-nav-left"),width:0,current:0,max:0,hooks:[],update:function(){var e=0,i=0,n=[0];t.each(r._thumbnails,function(a,o){if(o.ready){e+=o.outerWidth||t(o.container).outerWidth(!0);var s=t(o.container).width();e+=s-f.floor(s),n[a+1]=e,i=f.max(i,o.outerHeight||t(o.container).outerHeight(!0))}}),r.$("thumbnails").css({width:e,height:i}),d.max=e,d.hooks=n,d.width=r.$("thumbnails-list").width(),d.setClasses(),r.$("thumbnails-container").toggleClass("galleria-carousel",e>d.width),d.width=r.$("thumbnails-list").width()},bindControls:function(){var t;d.next.on("click:fast",function(e){if(e.preventDefault(),"auto"===r._options.carouselSteps){for(t=d.current;t<d.hooks.length;t++)if(d.hooks[t]-d.hooks[d.current]>d.width){d.set(t-2);break}}else d.set(d.current+r._options.carouselSteps)}),d.prev.on("click:fast",function(e){if(e.preventDefault(),"auto"===r._options.carouselSteps)for(t=d.current;t>=0;t--){if(d.hooks[d.current]-d.hooks[t]>d.width){d.set(t+2);break}if(0===t){d.set(0);break}}else d.set(d.current-r._options.carouselSteps)})},set:function(t){for(t=f.max(t,0);d.hooks[t-1]+d.width>=d.max&&t>=0;)t--;d.current=t,d.animate()},getLast:function(t){return(t||d.current)-1},follow:function(t){if(0!==t&&t!==d.hooks.length-2){for(var e=d.current;d.hooks[e]-d.hooks[d.current]<d.width&&e<=d.hooks.length;)e++;t-1<d.current?d.set(t-1):t+2>e&&d.set(t-e+d.current+2)}else d.set(t)},setClasses:function(){d.prev.toggleClass("disabled",!d.current),d.next.toggleClass("disabled",d.hooks[d.current]+d.width>=d.max)},animate:function(e){d.setClasses();var i=-1*d.hooks[d.current];isNaN(i)||(r.$("thumbnails").css("left",function(){return t(this).css("left")}),F.animate(r.get("thumbnails"),{left:i},{duration:r._options.carouselSpeed,easing:r._options.easing,queue:!1}))}},p=this._tooltip={initialized:!1,open:!1,timer:"tooltip"+r._id,swapTimer:"swap"+r._id,init:function(){p.initialized=!0;F.insertStyleTag(".galleria-tooltip{padding:3px 8px;max-width:50%;background:#ffe;color:#000;z-index:3;position:absolute;font-size:11px;line-height:1.3;opacity:0;box-shadow:0 0 2px rgba(0,0,0,.4);-moz-box-shadow:0 0 2px rgba(0,0,0,.4);-webkit-box-shadow:0 0 2px rgba(0,0,0,.4);}","galleria-tooltip"),r.$("tooltip").css({opacity:.8,visibility:"visible",display:"none"})},move:function(t){var e=r.getMousePosition(t).x,i=r.getMousePosition(t).y,n=r.$("tooltip"),a=e,o=i,s=n.outerHeight(!0)+1,l=n.outerWidth(!0),c=s+15,h=r.$("container").width()-l-2,u=r.$("container").height()-s-2;isNaN(a)||isNaN(o)||(a+=10,o-=s+8,a=f.max(0,f.min(h,a)),o=f.max(0,f.min(u,o)),i<c&&(o=c),n.css({left:a,top:o}))},bind:function(e,n){if(!i.TOUCH){p.initialized||p.init();var a=function(){r.$("container").off("mousemove",p.move),r.clearTimer(p.timer),r.$("tooltip").stop().animate({opacity:0},200,function(){r.$("tooltip").hide(),r.addTimer(p.swapTimer,function(){p.open=!1},1e3)})},o=function(e,i){p.define(e,i),t(e).hover(function(){r.clearTimer(p.swapTimer),r.$("container").off("mousemove",p.move).on("mousemove",p.move).trigger("mousemove"),p.show(e),r.addTimer(p.timer,function(){r.$("tooltip").stop().show().animate({opacity:1}),p.open=!0},p.open?0:500)},a).click(a)};"string"==typeof n?o(e in r._dom?r.get(e):e,n):t.each(e,function(t,e){o(r.get(t),e)})}},show:function(i){var n=(i=t(i in r._dom?r.get(i):i)).data("tt"),a=function(t){e.setTimeout(function(t){return function(){p.move(t)}}(t),10),i.off("mouseup",a)};(n="function"==typeof n?n():n)&&(r.$("tooltip").html(n.replace(/\s/,"&#160;")),i.on("mouseup",a))},define:function(e,i){if("function"!=typeof i){var n=i;i=function(){return n}}e=t(e in r._dom?r.get(e):e).data("tt",i),p.show(e)}},g=this._fullscreen={scrolled:0,crop:n,active:!1,prev:t(),beforeEnter:function(t){t()},beforeExit:function(t){t()},keymap:r._keyboard.map,parseCallback:function(e,i){return L.active?function(){"function"==typeof e&&e.call(r);var n=r._controls.getActive(),a=r._controls.getNext();r._scaleImage(a),r._scaleImage(n),i&&r._options.trueFullscreen&&t(n.container).add(a.container).trigger("transitionend")}:e},enter:function(t){g.beforeEnter(function(){t=g.parseCallback(t,!0),r._options.trueFullscreen&&S.support?(g.active=!0,F.forceStyles(r.get("container"),{width:"100%",height:"100%"}),r.rescale(),i.MAC?i.SAFARI&&/version\/[1-5]/.test(u)?(r.$("stage").css("opacity",0),e.setTimeout(function(){g.scale(),r.$("stage").css("opacity",1)},4)):(r.$("container").css("opacity",0).addClass("fullscreen"),e.setTimeout(function(){g.scale(),r.$("container").css("opacity",1)},50)):r.$("container").addClass("fullscreen"),s.resize(g.scale),S.enter(r,t,r.get("container"))):(g.scrolled=s.scrollTop(),i.TOUCH||e.scrollTo(0,0),g._enter(t))})},_enter:function(o){g.active=!0,w&&(g.iframe=function(){var n,o=a.referrer,s=a.createElement("a"),r=e.location;return s.href=o,s.protocol!=r.protocol||s.hostname!=r.hostname||s.port!=r.port?(i.raise("Parent fullscreen not available. Iframe protocol, domains and ports must match."),!1):(g.pd=e.parent.document,t(g.pd).find("iframe").each(function(){if((this.contentDocument||this.contentWindow.document)===a)return n=this,!1}),n)}()),F.hide(r.getActiveImage()),w&&g.iframe&&(g.iframe.scrolled=t(e.parent).scrollTop(),e.parent.scrollTo(0,0));var l=r.getData(),c=r._options,h=!r._options.trueFullscreen||!S.support,u={height:"100%",overflow:"hidden",margin:0,padding:0};if(h&&(r.$("container").addClass("fullscreen"),g.prev=r.$("container").prev(),g.prev.length||(g.parent=r.$("container").parent()),r.$("container").appendTo("body"),F.forceStyles(r.get("container"),{position:i.TOUCH?"absolute":"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1e4}),F.forceStyles(y().html,u),F.forceStyles(y().body,u)),w&&g.iframe&&(F.forceStyles(g.pd.documentElement,u),F.forceStyles(g.pd.body,u),F.forceStyles(g.iframe,t.extend(u,{width:"100%",height:"100%",top:0,left:0,position:"fixed",zIndex:1e4,border:"none"}))),g.keymap=t.extend({},r._keyboard.map),r.attachKeyboard({escape:r.exitFullscreen,right:r.next,left:r.prev}),g.crop=c.imageCrop,c.fullscreenCrop!=n&&(c.imageCrop=c.fullscreenCrop),l&&l.big&&l.image!==l.big){var d=new i.Picture,p=d.isCached(l.big),f=r.getIndex(),m=r._thumbnails[f];r.trigger({type:i.LOADSTART,cached:p,rewind:!1,index:f,imageTarget:r.getActiveImage(),thumbTarget:m,galleriaData:l}),d.load(l.big,function(e){r._scaleImage(e,{complete:function(e){r.trigger({type:i.LOADFINISH,cached:p,index:f,rewind:!1,imageTarget:e.image,thumbTarget:m});var n=r._controls.getActive().image;n&&t(n).width(e.image.width).height(e.image.height).attr("style",t(e.image).attr("style")).attr("src",e.image.src)}})});var v=r.getNext(f),b=new i.Picture,_=r.getData(v);b.preload(r.isFullscreen()&&_.big?_.big:_.image)}r.rescale(function(){r.addTimer(!1,function(){h&&F.show(r.getActiveImage()),"function"==typeof o&&o.call(r),r.rescale()},100),r.trigger(i.FULLSCREEN_ENTER)}),h?s.resize(g.scale):F.show(r.getActiveImage())},scale:function(){r.rescale()},exit:function(t){g.beforeExit(function(){t=g.parseCallback(t),r._options.trueFullscreen&&S.support?S.exit(t):g._exit(t)})},_exit:function(t){g.active=!1;var n=!r._options.trueFullscreen||!S.support,a=r.$("container").removeClass("fullscreen");if(g.parent?g.parent.prepend(a):a.insertAfter(g.prev),n){F.hide(r.getActiveImage()),F.revertStyles(r.get("container"),y().html,y().body),i.TOUCH||e.scrollTo(0,g.scrolled);var o=r._controls.frames[r._controls.active];o&&o.image&&(o.image.src=o.image.src)}w&&g.iframe&&(F.revertStyles(g.pd.documentElement,g.pd.body,g.iframe),g.iframe.scrolled&&e.parent.scrollTo(0,g.iframe.scrolled)),r.detachKeyboard(),r.attachKeyboard(g.keymap),r._options.imageCrop=g.crop;var l=r.getData().big,c=r._controls.getActive().image;!r.getData().iframe&&c&&l&&l==c.src&&e.setTimeout(function(t){return function(){c.src=t}}(r.getData().image),1),r.rescale(function(){r.addTimer(!1,function(){n&&F.show(r.getActiveImage()),"function"==typeof t&&t.call(r),s.trigger("resize")},50),r.trigger(i.FULLSCREEN_EXIT)}),s.off("resize",g.scale)}},m=this._idle={trunk:[],bound:!1,active:!1,add:function(e,n,a,o){if(e&&!i.TOUCH){m.bound||m.addEvent(),e=t(e),"boolean"==typeof a&&(o=a,a={}),a=a||{};var s,r={};for(s in n)n.hasOwnProperty(s)&&(r[s]=e.css(s));e.data("idle",{from:t.extend(r,a),to:n,complete:!0,busy:!1}),o?e.css(n):m.addTimer(),m.trunk.push(e)}},remove:function(e){e=t(e),t.each(m.trunk,function(t,i){i&&i.length&&!i.not(e).length&&(e.css(e.data("idle").from),m.trunk.splice(t,1))}),m.trunk.length||(m.removeEvent(),r.clearTimer(m.timer))},addEvent:function(){m.bound=!0,r.$("container").on("mousemove click",m.showAll),"hover"==r._options.idleMode&&r.$("container").on("mouseleave",m.hide)},removeEvent:function(){m.bound=!1,r.$("container").on("mousemove click",m.showAll),"hover"==r._options.idleMode&&r.$("container").off("mouseleave",m.hide)},addTimer:function(){"hover"!=r._options.idleMode&&r.addTimer("idle",function(){m.hide()},r._options.idleTime)},hide:function(){if(r._options.idleMode&&!1!==r.getIndex()){r.trigger(i.IDLE_ENTER);var e=m.trunk.length;t.each(m.trunk,function(t,i){var n=i.data("idle");n&&(i.data("idle").complete=!1,F.animate(i,n.to,{duration:r._options.idleSpeed,complete:function(){t==e-1&&(m.active=!1)}}))})}},showAll:function(){r.clearTimer("idle"),t.each(m.trunk,function(t,e){m.show(e)})},show:function(e){var n=e.data("idle");m.active&&(n.busy||n.complete)||(n.busy=!0,r.trigger(i.IDLE_EXIT),r.clearTimer("idle"),F.animate(e,n.from,{duration:r._options.idleSpeed/2,complete:function(){m.active=!0,t(e).data("idle").busy=!1,t(e).data("idle").complete=!0}})),m.addTimer()}},b=this._lightbox={width:0,height:0,initialized:!1,active:null,image:null,elems:{},keymap:!1,init:function(){if(!b.initialized){b.initialized=!0;var e={},n=r._options,a="",o="position:absolute;",s="lightbox-",l={overlay:"position:fixed;display:none;opacity:"+n.overlayOpacity+";filter:alpha(opacity="+100*n.overlayOpacity+");top:0;left:0;width:100%;height:100%;background:"+n.overlayBackground+";z-index:99990",box:"position:fixed;display:none;width:400px;height:400px;top:50%;left:50%;margin-top:-200px;margin-left:-200px;z-index:99991",shadow:o+"background:#000;width:100%;height:100%;",content:o+"background-color:#fff;top:10px;left:10px;right:10px;bottom:10px;overflow:hidden",info:o+"bottom:10px;left:10px;right:10px;color:#444;font:11px/13px arial,sans-serif;height:13px",close:o+"top:10px;right:10px;height:20px;width:20px;background:#fff;text-align:center;cursor:pointer;color:#444;font:16px/22px arial,sans-serif;z-index:99999",image:o+"top:10px;left:10px;right:10px;bottom:30px;overflow:hidden;display:block;",prevholder:o+"width:50%;top:0;bottom:40px;cursor:pointer;",nextholder:o+"width:50%;top:0;bottom:40px;right:-1px;cursor:pointer;",prev:o+"top:50%;margin-top:-20px;height:40px;width:30px;background:#fff;left:20px;display:none;text-align:center;color:#000;font:bold 16px/36px arial,sans-serif",next:o+"top:50%;margin-top:-20px;height:40px;width:30px;background:#fff;right:20px;left:auto;display:none;font:bold 16px/36px arial,sans-serif;text-align:center;color:#000",title:"float:left",counter:"float:right;margin-left:8px;"},c={},h="";h=v>7?v<9?"background:#000;filter:alpha(opacity=0);":"background:rgba(0,0,0,0);":"z-index:99999",l.nextholder+=h,l.prevholder+=h,t.each(l,function(t,e){a+=".galleria-"+s+t+"{"+e+"}"}),a+=".galleria-lightbox-box.iframe .galleria-lightbox-prevholder,.galleria-lightbox-box.iframe .galleria-lightbox-nextholder{width:100px;height:100px;top:50%;margin-top:-70px}",F.insertStyleTag(a,"galleria-lightbox"),t.each("overlay box content shadow title info close prevholder prev nextholder next counter image".split(" "),function(t,i){r.addElement("lightbox-"+i),e[i]=b.elems[i]=r.get("lightbox-"+i)}),b.image=new i.Picture,t.each({box:"shadow content close prevholder nextholder",info:"title counter",content:"info image",prevholder:"prev",nextholder:"next"},function(e,i){var n=[];t.each(i.split(" "),function(t,e){n.push(s+e)}),c[s+e]=n}),r.append(c),t(e.image).append(b.image.container),t(y().body).append(e.overlay,e.box),function(e){e.hover(function(){t(this).css("color","#bbb")},function(){t(this).css("color","#444")})}(t(e.close).on("click:fast",b.hide).html("&#215;")),t.each(["Prev","Next"],function(n,a){var o=t(e[a.toLowerCase()]).html(/v/.test(a)?"&#8249;&#160;":"&#160;&#8250;"),s=t(e[a.toLowerCase()+"holder"]);s.on("click:fast",function(){b["show"+a]()}),v<8||i.TOUCH?o.show():s.hover(function(){o.show()},function(t){o.stop().fadeOut(200)})}),t(e.overlay).on("click:fast",b.hide),i.IPAD&&(r._options.lightboxTransitionSpeed=0)}},rescale:function(e){var n=f.min(s.width()-40,b.width),a=f.min(s.height()-60,b.height),o=f.min(n/b.width,a/b.height),l=f.round(b.width*o)+40,c=f.round(b.height*o)+60,h={width:l,height:c,"margin-top":-1*f.ceil(c/2),"margin-left":-1*f.ceil(l/2)};e?t(b.elems.box).css(h):t(b.elems.box).animate(h,{duration:r._options.lightboxTransitionSpeed,easing:r._options.easing,complete:function(){var e=b.image,n=r._options.lightboxFadeSpeed;r.trigger({type:i.LIGHTBOX_IMAGE,imageTarget:e.image}),t(e.container).show(),t(e.image).animate({opacity:1},n),F.show(b.elems.info,n)}})},hide:function(){b.image.image=null,s.off("resize",b.rescale),t(b.elems.box).hide().find("iframe").remove(),F.hide(b.elems.info),r.detachKeyboard(),r.attachKeyboard(b.keymap),b.keymap=!1,F.hide(b.elems.overlay,200,function(){t(this).hide().css("opacity",r._options.overlayOpacity),r.trigger(i.LIGHTBOX_CLOSE)})},showNext:function(){b.show(r.getNext(b.active))},showPrev:function(){b.show(r.getPrev(b.active))},show:function(n){b.active=n="number"==typeof n?n:r.getIndex()||0,b.initialized||b.init(),r.trigger(i.LIGHTBOX_OPEN),b.keymap||(b.keymap=t.extend({},r._keyboard.map),r.attachKeyboard({escape:b.hide,right:b.showNext,left:b.showPrev})),s.off("resize",b.rescale);var a,o,l,c=r.getData(n),h=r.getDataLength(),u=r.getNext(n);F.hide(b.elems.info);try{for(l=r._options.preload;l>0;l--)o=new i.Picture,a=r.getData(u),o.preload(a.big?a.big:a.image),u=r.getNext(u)}catch(t){}b.image.isIframe=c.iframe&&!c.image,t(b.elems.box).toggleClass("iframe",b.image.isIframe),t(b.image.container).find(".galleria-videoicon").remove(),b.image.load(c.big||c.image||c.iframe,function(i){if(i.isIframe){var a=t(e).width(),o=t(e).height();if(i.video&&r._options.maxVideoSize){var l=f.min(r._options.maxVideoSize/a,r._options.maxVideoSize/o);l<1&&(a*=l,o*=l)}b.width=a,b.height=o}else b.width=i.original.width,b.height=i.original.height;if(t(i.image).css({width:i.isIframe?"100%":"100.1%",height:i.isIframe?"100%":"100.1%",top:0,bottom:0,zIndex:99998,opacity:0,visibility:"visible"}).parent().height("100%"),b.elems.title.innerHTML=c.title||"",b.elems.counter.innerHTML=n+1+" / "+h,s.resize(b.rescale),b.rescale(),c.image&&c.iframe){if(t(b.elems.box).addClass("iframe"),c.video){var u=H(i.container).hide();e.setTimeout(function(){u.fadeIn(200)},200)}t(i.image).css("cursor","pointer").mouseup(function(e,i){return function(n){t(b.image.container).find(".galleria-videoicon").remove(),n.preventDefault(),i.isIframe=!0,i.load(e.iframe+(e.video?"&autoplay=1":""),{width:"100%",height:v<8?t(b.image.container).height():"100%"})}}(c,i))}}),t(b.elems.overlay).show().css("visibility","visible"),t(b.elems.box).show()}},_=this._timer={trunk:{},add:function(t,i,n,a){if(t=t||(new Date).getTime(),a=a||!1,this.clear(t),a){var o=i;i=function(){o(),_.add(t,i,n)}}this.trunk[t]=e.setTimeout(i,n)},clear:function(t){var i,n=function(t){e.clearTimeout(this.trunk[t]),delete this.trunk[t]};if(t&&t in this.trunk)n.call(this,t);else if(void 0===t)for(i in this.trunk)this.trunk.hasOwnProperty(i)&&n.call(this,i)}};return this}).prototype={constructor:i,init:function(e,a){if(a=x(a),this._original={target:e,options:a,data:null},this._target=this._dom.target=e.nodeName?e:t(e).get(0),this._original.html=this._target.innerHTML,E.push(this),this._target){if(this._options={autoplay:!1,carousel:!0,carouselFollow:!0,carouselSpeed:400,carouselSteps:"auto",clicknext:!1,dailymotion:{foreground:"%23EEEEEE",highlight:"%235BCEC5",background:"%23222222",logo:0,hideInfos:1},dataConfig:function(t){return{}},dataSelector:"img",dataSort:!1,dataSource:this._target,debug:n,dummy:n,easing:"galleria",extend:function(t){},fullscreenCrop:n,fullscreenDoubleTap:!0,fullscreenTransition:n,height:0,idleMode:!0,idleTime:3e3,idleSpeed:200,imageCrop:!1,imageMargin:0,imagePan:!1,imagePanSmoothness:12,imagePosition:"50%",imageTimeout:n,initialTransition:n,keepSource:!1,layerFollow:!0,lightbox:!1,lightboxFadeSpeed:200,lightboxTransitionSpeed:200,linkSourceImages:!0,maxScaleRatio:n,maxVideoSize:n,minScaleRatio:n,overlayOpacity:.85,overlayBackground:"#0b0b0b",pauseOnInteraction:!0,popupLinks:!1,preload:2,queue:!0,responsive:!0,show:0,showInfo:!0,showCounter:!0,showImagenav:!0,swipe:"auto",theme:null,thumbCrop:!0,thumbEventType:"click:fast",thumbMargin:0,thumbQuality:"auto",thumbDisplayOrder:!0,thumbPosition:"50%",thumbnails:!0,touchTransition:n,transition:"fade",transitionInitial:n,transitionSpeed:400,trueFullscreen:!0,useCanvas:!1,variation:"",videoPoster:!0,vimeo:{title:0,byline:0,portrait:0,color:"aaaaaa"},wait:5e3,width:"auto",youtube:{modestbranding:1,autohide:1,color:"white",hd:1,rel:0,showinfo:0}},this._options.initialTransition=this._options.initialTransition||this._options.transitionInitial,a&&(!1===a.debug&&(l=!1),"number"==typeof a.imageTimeout&&(c=a.imageTimeout),"string"==typeof a.dummy&&(h=a.dummy),"string"==typeof a.theme&&(this._options.theme=a.theme)),t(this._target).children().hide(),i.QUIRK&&i.raise("Your page is in Quirks mode, Galleria may not render correctly. Please validate your HTML and add a correct doctype."),$.length)if(this._options.theme){for(var o=0;o<$.length;o++)if(this._options.theme===$[o].name){this.theme=$[o];break}}else this.theme=$[0];return"object"==typeof this.theme?this._init():P.push(this),this}i.raise("Target not found",!0)},_init:function(){var o=this,r=this._options;if(this._initialized)return i.raise("Init failed: Gallery instance already initialized."),this;if(this._initialized=!0,!this.theme)return i.raise("Init failed: No theme found.",!0),this;if(t.extend(!0,r,this.theme.defaults,this._original.options,i.configure.options),r.swipe=function(t){return"enforced"==t||!1!==t&&"disabled"!=t&&!!i.TOUCH}(r.swipe),r.swipe&&(r.clicknext=!1,r.imagePan=!1),function(t){"getContext"in t?D=D||{elem:t,context:t.getContext("2d"),cache:{},length:0}:t=null}(a.createElement("canvas")),this.bind(i.DATA,function(){e.screen&&e.screen.width&&Array.prototype.forEach&&this._data.forEach(function(t){var i="devicePixelRatio"in e?e.devicePixelRatio:1;f.max(e.screen.width,e.screen.height)*i<1024&&(t.big=t.image)}),this._original.data=this._data,this.get("total").innerHTML=this.getDataLength();var t=this.$("container");o._options.height<2&&(o._userRatio=o._ratio=o._options.height);var n={width:0,height:0},a=function(){return o.$("stage").height()};F.wait({until:function(){return n=o._getWH(),t.width(n.width).height(n.height),a()&&n.width&&n.height>50},success:function(){o._width=n.width,o._height=n.height,o._ratio=o._ratio||n.height/n.width,i.WEBKIT?e.setTimeout(function(){o._run()},1):o._run()},error:function(){a()?i.raise("Could not extract sufficient width/height of the gallery container. Traced measures: width:"+n.width+"px, height: "+n.height+"px.",!0):i.raise("Could not extract a stage height from the CSS. Traced height: "+a()+"px.",!0)},timeout:"number"==typeof this._options.wait&&this._options.wait})}),this.append({"info-text":["info-title","info-description"],info:["info-text"],"image-nav":["image-nav-right","image-nav-left"],stage:["images","loader","counter","image-nav"],"thumbnails-list":["thumbnails"],"thumbnails-container":["thumb-nav-left","thumbnails-list","thumb-nav-right"],container:["stage","thumbnails-container","info","tooltip"]}),F.hide(this.$("counter").append(this.get("current"),a.createTextNode(" / "),this.get("total"))),this.setCounter("&#8211;"),F.hide(o.get("tooltip")),this.$("container").addClass([i.TOUCH?"touch":"notouch",this._options.variation,"galleria-theme-"+this.theme.name].join(" ")),this._options.swipe||t.each(new Array(2),function(e){var n=new i.Picture;t(n.container).css({position:"absolute",top:0,left:0}).prepend(o._layers[e]=t(F.create("galleria-layer")).css({position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2})[0]),o.$("images").append(n.container),o._controls[e]=n;var a=new i.Picture;a.isIframe=!0,t(a.container).attr("class","galleria-frame").css({position:"absolute",top:0,left:0,zIndex:4,background:"#000",display:"none"}).appendTo(n.container),o._controls.frames[e]=a}),this.$("images").css({position:"relative",top:0,left:0,width:"100%",height:"100%"}),r.swipe&&(this.$("images").css({position:"absolute",top:0,left:0,width:0,height:"100%"}),this.finger=new i.Finger(this.get("stage"),{onchange:function(t){o.pause().show(t)},oncomplete:function(e){var i=f.max(0,f.min(parseInt(e,10),o.getDataLength()-1)),n=o.getData(i);t(o._thumbnails[i].container).addClass("active").siblings(".active").removeClass("active"),n&&(o.$("images").find(".galleria-frame").css("opacity",0).hide().find("iframe").remove(),o._options.carousel&&o._options.carouselFollow&&o._carousel.follow(i))}}),this.bind(i.RESCALE,function(){this.finger.setup()}),this.$("stage").on("click",function(i){var a=o.getData();if(a){if(a.iframe){o.isPlaying()&&o.pause();var s=o._controls.frames[o._active],r=o._stageWidth,l=o._stageHeight;if(t(s.container).find("iframe").length)return;return t(s.container).css({width:r,height:l,opacity:0}).show().animate({opacity:1},200),void e.setTimeout(function(){s.load(a.iframe+(a.video?"&autoplay=1":""),{width:r,height:l},function(t){o.$("container").addClass("videoplay"),t.scale({width:o._stageWidth,height:o._stageHeight,iframelimit:a.video?o._options.maxVideoSize:n})})},100)}if(a.link)if(o._options.popupLinks)e.open(a.link,"_blank");else e.location.href=a.link;else;}}),this.bind(i.IMAGE,function(e){o.setCounter(e.index),o.setInfo(e.index);var i=this.getNext(),n=this.getPrev(),a=[n,i];a.push(this.getNext(i),this.getPrev(n),o._controls.slides.length-1);var s=[];t.each(a,function(e,i){-1==t.inArray(i,s)&&s.push(i)}),t.each(s,function(e,i){var n=o.getData(i),a=o._controls.slides[i],s=o.isFullscreen()&&n.big?n.big:n.image||n.iframe;n.iframe&&!n.image&&(a.isIframe=!0),a.ready||o._controls.slides[i].load(s,function(e){e.isIframe||t(e.image).css("visibility","hidden"),o._scaleImage(e,{complete:function(e){e.isIframe||t(e.image).css({opacity:0,visibility:"visible"}).animate({opacity:1},200)}})})})})),this.$("thumbnails, thumbnails-list").css({overflow:"hidden",position:"relative"}),this.$("image-nav-right, image-nav-left").on("click:fast",function(t){r.pauseOnInteraction&&o.pause();var e=/right/.test(this.className)?"next":"prev";o[e]()}).on("click",function(t){t.preventDefault(),(r.clicknext||r.swipe)&&t.stopPropagation()}),t.each(["info","counter","image-nav"],function(t,e){!1===r["show"+e.substr(0,1).toUpperCase()+e.substr(1).replace(/-/,"")]&&F.moveOut(o.get(e.toLowerCase()))}),this.load(),r.keepSource||v||(this._target.innerHTML=""),this.get("errors")&&this.appendChild("target","errors"),this.appendChild("target","container"),r.carousel){var l=0,c=r.show;this.bind(i.THUMBNAIL,function(){this.updateCarousel(),++l==this.getDataLength()&&"number"==typeof c&&c>0&&this._carousel.follow(c)})}return r.responsive&&s.on("resize",function(){o.isFullscreen()||o.resize()}),r.fullscreenDoubleTap&&this.$("stage").on("touchstart",function(){var t,e,i,n,a,s,r=function(t){return t.originalEvent.touches?t.originalEvent.touches[0]:t};return o.$("stage").on("touchmove",function(){t=0}),function(l){if(!/(-left|-right)/.test(l.target.className)){if(s=F.timestamp(),e=r(l).pageX,i=r(l).pageY,l.originalEvent.touches.length<2&&s-t<300&&e-n<20&&i-a<20)return o.toggleFullscreen(),void l.preventDefault();t=s,n=e,a=i}}}()),t.each(i.on.binds,function(e,i){-1==t.inArray(i.hash,o._binds)&&o.bind(i.type,i.callback)}),this},addTimer:function(){return this._timer.add.apply(this._timer,F.array(arguments)),this},clearTimer:function(){return this._timer.clear.apply(this._timer,F.array(arguments)),this},_getWH:function(){var e,i=this.$("container"),n=this.$("target"),a=this,o={};return t.each(["width","height"],function(t,s){a._options[s]&&"number"==typeof a._options[s]?o[s]=a._options[s]:(e=[F.parseValue(i.css(s)),F.parseValue(n.css(s)),i[s](),n[s]()],a["_"+s]||e.splice(e.length,F.parseValue(i.css("min-"+s)),F.parseValue(n.css("min-"+s))),o[s]=f.max.apply(f,e))}),a._userRatio&&(o.height=o.width*a._userRatio),o},_createThumbnails:function(n){this.get("total").innerHTML=this.getDataLength();var o,s,r,l,c=this,h=this._options,u=n?this._data.length-n.length:0,d=u,p=[],f=0,g=v<8?"http://upload.wikimedia.org/wikipedia/commons/c/c0/Blank.gif":"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw%3D%3D",m=function(){var t=c.$("thumbnails").find(".active");return!!t.length&&t.find("img").attr("src")}(),y="string"==typeof h.thumbnails?h.thumbnails.toLowerCase():null,w=function(t){return a.defaultView&&a.defaultView.getComputedStyle?a.defaultView.getComputedStyle(s.container,null)[t]:l.css(t)},b=function(e,n){t(e.container).css("visibility","visible"),c.trigger({type:i.THUMBNAIL,thumbTarget:e.image,index:e.data.order,galleriaData:c.getData(e.data.order)}),"function"==typeof n&&n.call(c,e)},_=function(e,i){e.scale({width:e.data.width,height:e.data.height,crop:h.thumbCrop,margin:h.thumbMargin,canvas:h.useCanvas,position:h.thumbPosition,complete:function(e){var n,a,o=["left","top"],s=["Width","Height"];c.getData(e.index);t.each(s,function(i,s){n=s.toLowerCase(),!0===h.thumbCrop&&h.thumbCrop!==n||((a={})[n]=e[n],t(e.container).css(a),(a={})[o[i]]=0,t(e.image).css(a)),e["outer"+s]=t(e.container)["outer"+s](!0)}),F.toggleQuality(e.image,!0===h.thumbQuality||"auto"===h.thumbQuality&&e.original.width<3*e.width),h.thumbDisplayOrder&&!e.lazy?t.each(p,function(t,e){if(t===f&&e.ready&&!e.displayed)return f++,e.displayed=!0,void b(e,i)}):b(e,i)}})};for(n||(this._thumbnails=[],this.$("thumbnails").empty());this._data[u];u++)o=(r=this._data[u]).thumb||r.image,!0!==h.thumbnails&&"lazy"!=y||!r.thumb&&!r.image?r.iframe&&null!==y||"empty"===y||"numbers"===y?(s={container:F.create("galleria-image"),image:F.create("img","span"),ready:!0,data:{order:u}},"numbers"===y&&t(s.image).text(u+1),r.iframe&&t(s.image).addClass("iframe"),this.$("thumbnails").append(s.container),e.setTimeout(function(e,n,a){return function(){t(a).append(e),c.trigger({type:i.THUMBNAIL,thumbTarget:e,index:n,galleriaData:c.getData(n)})}}(s.image,u,s.container),50+20*u)):s={container:null,image:null}:((s=new i.Picture(u)).index=u,s.displayed=!1,s.lazy=!1,s.video=!1,this.$("thumbnails").append(s.container),(l=t(s.container)).css("visibility","hidden"),s.data={width:F.parseValue(w("width")),height:F.parseValue(w("height")),order:u,src:o},!0!==h.thumbCrop?l.css({width:"auto",height:"auto"}):l.css({width:s.data.width,height:s.data.height}),"lazy"==y?(l.addClass("lazy"),s.lazy=!0,s.load(g,{height:s.data.height,width:s.data.width})):s.load(o,_),"all"===h.preload&&s.preload(r.image)),t(s.container).add(h.keepSource&&h.linkSourceImages?r.original:null).data("index",u).on(h.thumbEventType,function(e){h.pauseOnInteraction&&c.pause();var i=t(e.currentTarget).data("index");c.getIndex()!==i&&c.show(i),e.preventDefault()}).data("thumbload",_),m===o&&t(s.container).addClass("active"),this._thumbnails.push(s);return p=this._thumbnails.slice(d),this},lazyLoad:function(e,i){var n=e.constructor==Array?e:[e],a=this,o=0;return t.each(n,function(e,s){if(!(s>a._thumbnails.length-1)){var r=a._thumbnails[s],l=r.data,c=function(){++o==n.length&&"function"==typeof i&&i.call(a)},h=t(r.container).data("thumbload");r.video?h.call(a,r,c):r.load(l.src,function(t){h.call(a,t,c)})}}),this},lazyLoadChunks:function(t,i){var n=this.getDataLength(),a=0,o=0,s=[],r=[],l=this;for(i=i||0;a<n;a++)r.push(a),++o!=t&&a!=n-1||(s.push(r),o=0,r=[]);var c=function(t){var n=s.shift();n&&e.setTimeout(function(){l.lazyLoad(n,function(){c(!0)})},i&&t?i:0)};return c(!1),this},_run:function(){var a=this;a._createThumbnails(),F.wait({timeout:1e4,until:function(){return i.OPERA&&a.$("stage").css("display","inline-block"),a._stageWidth=a.$("stage").width(),a._stageHeight=a.$("stage").height(),a._stageWidth&&a._stageHeight>50},success:function(){if(O.push(a),a._options.swipe){var o=a.$("images").width(a.getDataLength()*a._stageWidth);t.each(new Array(a.getDataLength()),function(e){var n=new i.Picture,s=a.getData(e);t(n.container).css({position:"absolute",top:0,left:a._stageWidth*e}).prepend(a._layers[e]=t(F.create("galleria-layer")).css({position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2})[0]).appendTo(o),s.video&&H(n.container),a._controls.slides.push(n);var r=new i.Picture;r.isIframe=!0,t(r.container).attr("class","galleria-frame").css({position:"absolute",top:0,left:0,zIndex:4,background:"#000",display:"none"}).appendTo(n.container),a._controls.frames.push(r)}),a.finger.setup()}if(F.show(a.get("counter")),a._options.carousel&&a._carousel.bindControls(),a._options.autoplay&&(a.pause(),"number"==typeof a._options.autoplay&&(a._playtime=a._options.autoplay),a._playing=!0),a._firstrun)return a._options.autoplay&&a.trigger(i.PLAY),void("number"==typeof a._options.show&&a.show(a._options.show));a._firstrun=!0,i.History&&i.History.change(function(t){isNaN(t)?e.history.go(-1):a.show(t,n,!0)}),a.trigger(i.READY),a.theme.init.call(a,a._options),t.each(i.ready.callbacks,function(t,e){"function"==typeof e&&e.call(a,a._options)}),a._options.extend.call(a,a._options),/^[0-9]{1,4}$/.test(d)&&i.History?a.show(d,n,!0):a._data[a._options.show]&&a.show(a._options.show),a._options.autoplay&&a.trigger(i.PLAY)},error:function(){i.raise("Stage width or height is too small to show the gallery. Traced measures: width:"+a._stageWidth+"px, height: "+a._stageHeight+"px.",!0)}})},load:function(e,n,a){var o=this,s=this._options;return this._data=[],this._thumbnails=[],this.$("thumbnails").empty(),"function"==typeof n&&(a=n,n=null),e=e||s.dataSource,n=n||s.dataSelector,a=a||s.dataConfig,t.isPlainObject(e)&&(e=[e]),t.isArray(e)?this.validate(e)?this._data=e:i.raise("Load failed: JSON Array not valid."):(n+=",.video,.iframe",t(e).find(n).each(function(e,i){var n={},s=(i=t(i)).parent(),r=s.attr("href"),l=s.attr("rel");r&&("IMG"==i[0].nodeName||i.hasClass("video"))&&I(r)?n.video=r:r&&i.hasClass("iframe")?n.iframe=r:n.image=n.big=r,l&&(n.big=l),t.each("big title description link layer image".split(" "),function(t,e){i.data(e)&&(n[e]=i.data(e).toString())}),n.big||(n.big=n.image),o._data.push(t.extend({title:i.attr("title")||"",thumb:i.attr("src"),image:i.attr("src"),big:i.attr("src"),description:i.attr("alt")||"",link:i.attr("longdesc"),original:i.get(0)},n,a(i)))})),"function"==typeof s.dataSort?r.sort.call(this._data,s.dataSort):"random"==s.dataSort&&this._data.sort(function(){return f.round(f.random())-.5}),this.getDataLength()&&this._parseData(function(){this.trigger(i.DATA)}),this},_parseData:function(e){var i,a=this,o=!1,s=function(){var i=!0;t.each(a._data,function(t,e){if(e.loading)return i=!1,!1}),i&&!o&&(o=!0,e.call(a))};return t.each(this._data,function(e,o){if(i=a._data[e],"thumb"in o==!1&&(i.thumb=o.image),o.big||(i.big=o.image),"video"in o){var r=I(o.video);r&&(i.iframe=new C(r.provider,r.id).embed()+function(){if("object"==typeof a._options[r.provider]){var e=[];return t.each(a._options[r.provider],function(t,i){e.push(t+"="+i)}),"youtube"==r.provider&&(e=["wmode=opaque"].concat(e)),"?"+e.join("&")}return""}(),i.thumb&&i.image||t.each(["thumb","image"],function(t,e){if("image"!=e||a._options.videoPoster){var o=new C(r.provider,r.id);i[e]||(i.loading=!0,o.getMedia(e,function(t,e){return function(i){t[e]=i,"image"!=e||t.big||(t.big=t.image),delete t.loading,s()}}(i,e)))}else i.image=n}))}}),s(),this},destroy:function(){return this.$("target").data("galleria",null),this.$("container").off("galleria"),this.get("target").innerHTML=this._original.html,this.clearTimer(),F.removeFromArray(E,this),F.removeFromArray(O,this),i._waiters.length&&t.each(i._waiters,function(t,i){i&&e.clearTimeout(i)}),this},splice:function(){var t=this,i=F.array(arguments);return e.setTimeout(function(){r.splice.apply(t._data,i),t._parseData(function(){t._createThumbnails()})},2),t},push:function(){var t=this,i=F.array(arguments);return 1==i.length&&i[0].constructor==Array&&(i=i[0]),e.setTimeout(function(){r.push.apply(t._data,i),t._parseData(function(){t._createThumbnails(i)})},2),t},_getActive:function(){return this._controls.getActive()},validate:function(t){return!0},bind:function(t,e){return t=k(t),this.$("container").on(t,this.proxy(e)),this},unbind:function(t){return t=k(t),this.$("container").off(t),this},trigger:function(e){return e="object"==typeof e?t.extend(e,{scope:this}):{type:k(e),scope:this},this.$("container").trigger(e),this},addIdleState:function(t,e,i,n){return this._idle.add.apply(this._idle,F.array(arguments)),this},removeIdleState:function(t){return this._idle.remove.apply(this._idle,F.array(arguments)),this},enterIdleMode:function(){return this._idle.hide(),this},exitIdleMode:function(){return this._idle.showAll(),this},enterFullscreen:function(t){return this._fullscreen.enter.apply(this,F.array(arguments)),this},exitFullscreen:function(t){return this._fullscreen.exit.apply(this,F.array(arguments)),this},toggleFullscreen:function(t){return this._fullscreen[this.isFullscreen()?"exit":"enter"].apply(this,F.array(arguments)),this},bindTooltip:function(t,e){return this._tooltip.bind.apply(this._tooltip,F.array(arguments)),this},defineTooltip:function(t,e){return this._tooltip.define.apply(this._tooltip,F.array(arguments)),this},refreshTooltip:function(t){return this._tooltip.show.apply(this._tooltip,F.array(arguments)),this},openLightbox:function(){return this._lightbox.show.apply(this._lightbox,F.array(arguments)),this},closeLightbox:function(){return this._lightbox.hide.apply(this._lightbox,F.array(arguments)),this},hasVariation:function(e){return t.inArray(e,this._options.variation.split(/\s+/))>-1},getActiveImage:function(){var t=this._getActive();return t?t.image:n},getActiveThumb:function(){return this._thumbnails[this._active].image||n},getMousePosition:function(t){return{x:t.pageX-this.$("container").offset().left,y:t.pageY-this.$("container").offset().top}},addPan:function(e){if(!1!==this._options.imageCrop){var i=this,n=(e=t(e||this.getActiveImage())).width()/2,a=e.height()/2,o=parseInt(e.css("left"),10),s=parseInt(e.css("top"),10),r=o||0,l=s||0,c=0,h=0,u=!1,d=F.timestamp(),p=0,g=0,m=function(t,i,n){if(t>0&&(g=f.round(f.max(-1*t,f.min(0,i))),p!==g))if(p=g,8===v)e.parent()["scroll"+n](-1*g);else{var a={};a[n.toLowerCase()]=g,e.css(a)}},y=function(t){F.timestamp()-d<50||(u=!0,n=i.getMousePosition(t).x,a=i.getMousePosition(t).y)};return 8===v&&(e.parent().scrollTop(-1*l).scrollLeft(-1*r),e.css({top:0,left:0})),this.$("stage").off("mousemove",y).on("mousemove",y),this.addTimer("pan"+i._id,function(t){u&&(c=e.width()-i._stageWidth,h=e.height()-i._stageHeight,o=n/i._stageWidth*c*-1,s=a/i._stageHeight*h*-1,r+=(o-r)/i._options.imagePanSmoothness,l+=(s-l)/i._options.imagePanSmoothness,m(h,l,"Top"),m(c,r,"Left"))},50,!0),this}},proxy:function(t,e){return"function"!=typeof t?g:(e=e||this,function(){return t.apply(e,F.array(arguments))})},getThemeName:function(){return this.theme.name},removePan:function(){return this.$("stage").off("mousemove"),this.clearTimer("pan"+this._id),this},addElement:function(e){var i=this._dom;return t.each(F.array(arguments),function(t,e){i[e]=F.create("galleria-"+e)}),this},attachKeyboard:function(t){return this._keyboard.attach.apply(this._keyboard,F.array(arguments)),this},detachKeyboard:function(){return this._keyboard.detach.apply(this._keyboard,F.array(arguments)),this},appendChild:function(t,e){return this.$(t).append(this.get(e)||e),this},prependChild:function(t,e){return this.$(t).prepend(this.get(e)||e),this},remove:function(t){return this.$(F.array(arguments).join(",")).remove(),this},append:function(t){var e,i;for(e in t)if(t.hasOwnProperty(e))if(t[e].constructor===Array)for(i=0;t[e][i];i++)this.appendChild(e,t[e][i]);else this.appendChild(e,t[e]);return this},_scaleImage:function(e,i){if(e=e||this._controls.getActive()){var n,a=function(e){t(e.container).children(":first").css({top:f.max(0,F.parseValue(e.image.style.top)),left:f.max(0,F.parseValue(e.image.style.left)),width:F.parseValue(e.image.width),height:F.parseValue(e.image.height)})};return i=t.extend({width:this._stageWidth,height:this._stageHeight,crop:this._options.imageCrop,max:this._options.maxScaleRatio,min:this._options.minScaleRatio,margin:this._options.imageMargin,position:this._options.imagePosition,iframelimit:this._options.maxVideoSize},i),this._options.layerFollow&&!0!==this._options.imageCrop?"function"==typeof i.complete?(n=i.complete,i.complete=function(){n.call(e,e),a(e)}):i.complete=a:t(e.container).children(":first").css({top:0,left:0}),e.scale(i),this}},updateCarousel:function(){return this._carousel.update(),this},resize:function(e,i){"function"==typeof e&&(i=e,e=n),e=t.extend({width:0,height:0},e);var a=this,o=this.$("container");return t.each(e,function(t,i){i||(o[t]("auto"),e[t]=a._getWH()[t])}),t.each(e,function(t,e){o[t](e)}),this.rescale(i)},rescale:function(e,a,o){var s=this;"function"==typeof e&&(o=e,e=n);return function(){s._stageWidth=e||s.$("stage").width(),s._stageHeight=a||s.$("stage").height(),s._options.swipe?(t.each(s._controls.slides,function(e,i){s._scaleImage(i),t(i.container).css("left",s._stageWidth*e)}),s.$("images").css("width",s._stageWidth*s.getDataLength())):s._scaleImage(),s._options.carousel&&s.updateCarousel(),s._controls.frames[s._controls.active]&&s._controls.frames[s._controls.active].scale({width:s._stageWidth,height:s._stageHeight,iframelimit:s._options.maxVideoSize}),s.trigger(i.RESCALE),"function"==typeof o&&o.call(s)}.call(s),this},refreshImage:function(){return this._scaleImage(),this._options.imagePan&&this.addPan(),this},_preload:function(){if(this._options.preload){var t,e,n,a=this.getNext();try{for(e=this._options.preload;e>0;e--)t=new i.Picture,n=this.getData(a),t.preload(this.isFullscreen()&&n.big?n.big:n.image),a=this.getNext(a)}catch(t){}}},show:function(n,a,o){var s=this._options.swipe;if(s||!(this._queue.length>3||!1===n||!this._options.queue&&this._queue.stalled)){if(n=f.max(0,f.min(parseInt(n,10),this.getDataLength()-1)),a=void 0!==a?!!a:n<this.getIndex(),(o=o||!1)||!i.History){if(this.finger&&n!==this._active&&(this.finger.to=-n*this.finger.width,this.finger.index=n),this._active=n,s){var l=this.getData(n),c=this;if(!l)return;var h=this.isFullscreen()&&l.big?l.big:l.image||l.iframe,u=this._controls.slides[n],d=u.isCached(h),p=this._thumbnails[n],g={cached:d,index:n,rewind:a,imageTarget:u.image,thumbTarget:p.image,galleriaData:l};this.trigger(t.extend(g,{type:i.LOADSTART})),c.$("container").removeClass("videoplay");var m=function(){c._layers[n].innerHTML=c.getData().layer||"",c.trigger(t.extend(g,{type:i.LOADFINISH})),c._playCheck()};c._preload(),e.setTimeout(function(){u.ready&&t(u.image).attr("src")==h?(c.trigger(t.extend(g,{type:i.IMAGE})),m()):(l.iframe&&!l.image&&(u.isIframe=!0),u.load(h,function(e){g.imageTarget=e.image,c._scaleImage(e,m).trigger(t.extend(g,{type:i.IMAGE})),m()}))},100)}else r.push.call(this._queue,{index:n,rewind:a}),this._queue.stalled||this._show();return this}i.History.set(n.toString())}},_show:function(){var a=this,o=this._queue[0],s=this.getData(o.index);if(s){var l=this.isFullscreen()&&s.big?s.big:s.image||s.iframe,c=this._controls.getActive(),h=this._controls.getNext(),u=h.isCached(l),d=this._thumbnails[o.index],p=function(){t(h.image).trigger("mouseup")};a.$("container").toggleClass("iframe",!!s.isIframe).removeClass("videoplay");var f=function(o,s,l,c,h){return function(){var u;L.active=!1,F.toggleQuality(s.image,a._options.imageQuality),a._layers[a._controls.active].innerHTML="",t(l.container).css({zIndex:0,opacity:0}).show(),t(l.container).find("iframe, .galleria-videoicon").remove(),t(a._controls.frames[a._controls.active].container).hide(),t(s.container).css({zIndex:1,left:0,top:0}).show(),a._controls.swap(),a._options.imagePan&&a.addPan(s.image),(o.iframe&&o.image||o.link||a._options.lightbox||a._options.clicknext)&&t(s.image).css({cursor:"pointer"}).on("mouseup",function(s){if(!("number"==typeof s.which&&s.which>1)){if(o.iframe){a.isPlaying()&&a.pause();var r=a._controls.frames[a._controls.active],l=a._stageWidth,c=a._stageHeight;return t(r.container).css({width:l,height:c,opacity:0}).show().animate({opacity:1},200),void e.setTimeout(function(){r.load(o.iframe+(o.video?"&autoplay=1":""),{width:l,height:c},function(t){a.$("container").addClass("videoplay"),t.scale({width:a._stageWidth,height:a._stageHeight,iframelimit:o.video?a._options.maxVideoSize:n})})},100)}if(a._options.clicknext&&!i.TOUCH)return a._options.pauseOnInteraction&&a.pause(),void a.next();o.link?a._options.popupLinks?u=e.open(o.link,"_blank"):e.location.href=o.link:a._options.lightbox&&a.openLightbox()}}),a._playCheck(),a.trigger({type:i.IMAGE,index:c.index,imageTarget:s.image,thumbTarget:h.image,galleriaData:o}),r.shift.call(a._queue),a._queue.stalled=!1,a._queue.length&&a._show()}}(s,h,c,o,d);this._options.carousel&&this._options.carouselFollow&&this._carousel.follow(o.index),a._preload(),F.show(h.container),h.isIframe=s.iframe&&!s.image,t(a._thumbnails[o.index].container).addClass("active").siblings(".active").removeClass("active"),a.trigger({type:i.LOADSTART,cached:u,index:o.index,rewind:o.rewind,imageTarget:h.image,thumbTarget:d.image,galleriaData:s}),a._queue.stalled=!0,h.load(l,function(e){var r=t(a._layers[1-a._controls.active]).html(s.layer||"").hide();a._scaleImage(e,{complete:function(e){"image"in c&&F.toggleQuality(c.image,!1),F.toggleQuality(e.image,!1),a.removePan(),a.setInfo(o.index),a.setCounter(o.index),s.layer&&(r.show(),(s.iframe&&s.image||s.link||a._options.lightbox||a._options.clicknext)&&r.css("cursor","pointer").off("mouseup").mouseup(p)),s.video&&s.image&&H(e.container);var l=a._options.transition;if(t.each({initial:null===c.image,touch:i.TOUCH,fullscreen:a.isFullscreen()},function(t,e){if(e&&a._options[t+"Transition"]!==n)return l=a._options[t+"Transition"],!1}),l in L.effects==!1)f();else{var h={prev:c.container,next:e.container,rewind:o.rewind,speed:a._options.transitionSpeed||400};L.active=!0,L.init.call(a,l,h,f)}a.trigger({type:i.LOADFINISH,cached:u,index:o.index,rewind:o.rewind,imageTarget:e.image,thumbTarget:a._thumbnails[o.index].image,galleriaData:a.getData(o.index)})}})})}},getNext:function(t){return(t="number"==typeof t?t:this.getIndex())===this.getDataLength()-1?0:t+1},getPrev:function(t){return 0===(t="number"==typeof t?t:this.getIndex())?this.getDataLength()-1:t-1},next:function(){return this.getDataLength()>1&&this.show(this.getNext(),!1),this},prev:function(){return this.getDataLength()>1&&this.show(this.getPrev(),!0),this},get:function(t){return t in this._dom?this._dom[t]:null},getData:function(t){return t in this._data?this._data[t]:this._data[this._active]},getDataLength:function(){return this._data.length},getIndex:function(){return"number"==typeof this._active&&this._active},getStageHeight:function(){return this._stageHeight},getStageWidth:function(){return this._stageWidth},getOptions:function(t){return void 0===t?this._options:this._options[t]},setOptions:function(e,i){return"object"==typeof e?t.extend(this._options,e):this._options[e]=i,this},play:function(t){return this._playing=!0,this._playtime=t||this._playtime,this._playCheck(),this.trigger(i.PLAY),this},pause:function(){return this._playing=!1,this.trigger(i.PAUSE),this},playToggle:function(t){return this._playing?this.pause():this.play(t)},isPlaying:function(){return this._playing},isFullscreen:function(){return this._fullscreen.active},_playCheck:function(){var t=this,e=0,n=F.timestamp(),a="play"+this._id;if(this._playing){this.clearTimer(a);var o=function(){if((e=F.timestamp()-n)>=t._playtime&&t._playing)return t.clearTimer(a),void t.next();t._playing&&(t.trigger({type:i.PROGRESS,percent:f.ceil(e/t._playtime*100),seconds:f.floor(e/1e3),milliseconds:e}),t.addTimer(a,o,20))};t.addTimer(a,o,20)}},setPlaytime:function(t){return this._playtime=t,this},setIndex:function(t){return this._active=t,this},setCounter:function(t){if("number"==typeof t?t++:void 0===t&&(t=this.getIndex()+1),this.get("current").innerHTML=t,v){var e=this.$("counter"),i=e.css("opacity");1===parseInt(i,10)?F.removeAlpha(e[0]):this.$("counter").css("opacity",i)}return this},setInfo:function(e){var i=this,n=this.getData(e);return t.each(["title","description"],function(t,e){var a=i.$("info-"+e);n[e]?a[n[e].length?"show":"hide"]().html(n[e]):a.empty().hide()}),this},hasInfo:function(t){var e,i="title description".split(" ");for(e=0;i[e];e++)if(this.getData(t)[i[e]])return!0;return!1},jQuery:function(e){var i=this,n=[];t.each(e.split(","),function(e,a){a=t.trim(a),i.get(a)&&n.push(a)});var a=t(i.get(n.shift()));return t.each(n,function(t,e){a=a.add(i.get(e))}),a},$:function(t){return this.jQuery.apply(this,F.array(arguments))}},t.each(_,function(t,e){var n=/_/.test(e)?e.replace(/_/g,""):e;i[e.toUpperCase()]="galleria."+n}),t.extend(i,{IE9:9===v,IE8:8===v,IE7:7===v,IE6:6===v,IE:v,WEBKIT:/webkit/.test(u),CHROME:/chrome/.test(u),SAFARI:/safari/.test(u)&&!/chrome/.test(u),QUIRK:v&&a.compatMode&&"BackCompat"===a.compatMode,MAC:/mac/.test(navigator.platform.toLowerCase()),OPERA:!!e.opera,IPHONE:/iphone/.test(u),IPAD:/ipad/.test(u),ANDROID:/android/.test(u),TOUCH:"ontouchstart"in a}),i.addTheme=function(n){n.name||i.raise("No theme name specified"),"object"!=typeof n.defaults?n.defaults={}:n.defaults=x(n.defaults);var a,o=!1;return"string"==typeof n.css?(t("link").each(function(t,e){if((a=new RegExp(n.css)).test(e.href))return o=!0,N(n),!1}),o||t(function(){var s=0,r=function(){t("script").each(function(t,i){(a=new RegExp("galleria\\."+n.name.toLowerCase()+"\\.")).test(i.src)&&(o=i.src.replace(/[^\/]*$/,"")+n.css,e.setTimeout(function(){F.loadCSS(o,"galleria-theme-"+n.name,function(){N(n)})},1))}),o||(s++>5?i.raise("No theme CSS loaded"):e.setTimeout(r,500))};r()})):N(n),n},i.loadTheme=function(n,a){if(!t("script").filter(function(){return t(this).attr("src")==n}).length){var o,s=!1;return t(e).load(function(){s||(o=e.setTimeout(function(){s||i.raise("Galleria had problems loading theme at "+n+". Please check theme path or load manually.",!0)},2e4))}),F.loadScript(n,function(){s=!0,e.clearTimeout(o)}),i}},i.get=function(t){return E[t]?E[t]:"number"!=typeof t?E:void i.raise("Gallery index "+t+" not found")},i.configure=function(e,n){var a={};return"string"==typeof e&&n?(a[e]=n,e=a):t.extend(a,e),i.configure.options=a,t.each(i.get(),function(t,e){e.setOptions(a)}),i},i.configure.options={},i.on=function(e,n){if(e){var a=e+(n=n||g).toString().replace(/\s/g,"")+F.timestamp();return t.each(i.get(),function(t,i){i._binds.push(a),i.bind(e,n)}),i.on.binds.push({type:e,callback:n,hash:a}),i}},i.on.binds=[],i.run=function(e,n){return t.isFunction(n)&&(n={extend:n}),t(e||"#galleria").galleria(n),i},i.addTransition=function(t,e){return L.effects[t]=e,i},i.utils=F,i.log=function(){var i=F.array(arguments);if(!("console"in e&&"log"in e.console))return e.alert(i.join("<br>"));try{return e.console.log.apply(e.console,i)}catch(n){t.each(i,function(){e.console.log(this)})}},i.ready=function(e){return"function"!=typeof e?i:(t.each(O,function(t,i){e.call(i,i._options)}),i.ready.callbacks.push(e),i)},i.ready.callbacks=[],i.raise=function(e,i){var n=i?"Fatal error":"Error",a={color:"#fff",position:"absolute",top:0,left:0,zIndex:1e5},o=function(e){var o='<div style="padding:4px;margin:0 0 2px;background:#'+(i?"811":"222")+';">'+(i?"<strong>"+n+": </strong>":"")+e+"</div>";t.each(E,function(){var t=this.$("errors"),e=this.$("target");t.length||(e.css("position","relative"),t=this.addElement("errors").appendChild("target","errors").$("errors").css(a)),t.append(o)}),E.length||t("<div>").css(t.extend(a,{position:"fixed"})).append(o).appendTo(y().body)};if(l){if(o(e),i)throw new Error(n+": "+e)}else if(i){if(A)return;A=!0,i=!1,o("Gallery could not load.")}},i.version=1.41,i.getLoadedThemes=function(){return t.map($,function(t){return t.name})},i.requires=function(t,e){return e=e||"You need to upgrade Galleria to version "+t+" to use one or more components.",i.version<t&&i.raise(e,!0),i},i.Picture=function(e){this.id=e||null,this.image=null,this.container=F.create("galleria-image"),t(this.container).css({overflow:"hidden",position:"relative"}),this.original={width:0,height:0},this.ready=!1,this.isIframe=!1},i.Picture.prototype={cache:{},show:function(){F.show(this.image)},hide:function(){F.moveOut(this.image)},clear:function(){this.image=null},isCached:function(t){return!!this.cache[t]},preload:function(e){t(new Image).load(function(t,e){return function(){e[t]=t}}(e,this.cache)).attr("src",e)},load:function(n,a,o){if("function"==typeof a&&(o=a,a=null),this.isIframe){var s="if"+(new Date).getTime(),r=this.image=t("<iframe>",{src:n,frameborder:0,id:s,allowfullscreen:!0,css:{visibility:"hidden"}})[0];return a&&t(r).css(a),t(this.container).find("iframe,img").remove(),this.container.appendChild(this.image),t("#"+s).load(function(i,n){return function(){e.setTimeout(function(){t(i.image).css("visibility","visible"),"function"==typeof n&&n.call(i,i)},10)}}(this,o)),this.container}this.image=new Image,i.IE8&&t(this.image).css("filter","inherit"),i.IE||i.CHROME||i.SAFARI||t(this.image).css("image-rendering","optimizequality");var l=!1,c=!1,u=t(this.container),d=t(this.image),p=function(n,o,s){return function(){var r=function(){t(this).off("load"),n.original=a||{height:this.height,width:this.width},i.HAS3D&&(this.style.MozTransform=this.style.webkitTransform="translate3d(0,0,0)"),u.append(this),n.cache[s]=s,"function"==typeof o&&e.setTimeout(function(){o.call(n,n)},1)};this.width&&this.height?r.call(this):function(e){F.wait({until:function(){return e.width&&e.height},success:function(){r.call(e)},error:function(){c?i.raise("Could not extract width/height from image: "+e.src+". Traced measures: width:"+e.width+"px, height: "+e.height+"px."):(t(new Image).load(p).attr("src",e.src),c=!0)},timeout:100})}(this)}}(this,o,n);return u.find("iframe,img").remove(),d.css("display","block"),F.hide(this.image),t.each("minWidth minHeight maxWidth maxHeight".split(" "),function(t,e){d.css(e,/min/.test(e)?"0":"none")}),d.load(p).on("error",function(){l?h?t(this).attr("src",h):i.raise("Image not found: "+n):(l=!0,e.setTimeout(function(t,e){return function(){t.attr("src",e+(e.indexOf("?")>-1?"&":"?")+F.timestamp())}}(t(this),n),50))}).attr("src",n),this.container},scale:function(e){var a=this;if(e=t.extend({width:0,height:0,min:n,max:n,margin:0,complete:g,position:"center",crop:!1,canvas:!1,iframelimit:n},e),this.isIframe){var o,s,r=e.width,l=e.height;if(e.iframelimit){var c=f.min(e.iframelimit/r,e.iframelimit/l);c<1?(o=r*c,s=l*c,t(this.image).css({top:l/2-s/2,left:r/2-o/2,position:"absolute"})):t(this.image).css({top:0,left:0})}t(this.image).width(o||r).height(s||l).removeAttr("width").removeAttr("height"),t(this.container).width(r).height(l),e.complete.call(a,a);try{this.image.contentWindow&&t(this.image.contentWindow).trigger("resize")}catch(t){}return this.container}if(!this.image)return this.container;var h,u,d,p=t(a.container);return F.wait({until:function(){return h=e.width||p.width()||F.parseValue(p.css("width")),u=e.height||p.height()||F.parseValue(p.css("height")),h&&u},success:function(){var i=(h-2*e.margin)/a.original.width,n=(u-2*e.margin)/a.original.height,o=f.min(i,n),s=f.max(i,n),r={true:s,width:i,height:n,false:o,landscape:a.original.width>a.original.height?s:o,portrait:a.original.width<a.original.height?s:o}[e.crop.toString()],l="";e.max&&(r=f.min(e.max,r)),e.min&&(r=f.max(e.min,r)),t.each(["width","height"],function(e,i){t(a.image)[i](a[i]=a.image[i]=f.round(a.original[i]*r))}),t(a.container).width(h).height(u),e.canvas&&D&&(D.elem.width=a.width,D.elem.height=a.height,l=a.image.src+":"+a.width+"x"+a.height,a.image.src=D.cache[l]||function(t){D.context.drawImage(a.image,0,0,a.original.width*r,a.original.height*r);try{return d=D.elem.toDataURL(),D.length+=d.length,D.cache[t]=d,d}catch(t){return a.image.src}}(l));var c={},p={},g=function(e,i,n){var o=0;if(/\%/.test(e)){var s=parseInt(e,10)/100,r=a.image[i]||t(a.image)[i]();o=f.ceil(-1*r*s+n*s)}else o=F.parseValue(e);return o},m={top:{top:0},left:{left:0},right:{left:"100%"},bottom:{top:"100%"}};t.each(e.position.toLowerCase().split(" "),function(t,e){"center"===e&&(e="50%"),c[t?"top":"left"]=e}),t.each(c,function(e,i){m.hasOwnProperty(i)&&t.extend(p,m[i])}),c=c.top?t.extend(c,p):p,c=t.extend({top:"50%",left:"50%"},c),t(a.image).css({position:"absolute",top:g(c.top,"height",u),left:g(c.left,"width",h)}),a.show(),a.ready=!0,e.complete.call(a,a)},error:function(){i.raise("Could not scale image: "+a.image.src)},timeout:1e3}),this}},t.extend(t.easing,{galleria:function(t,e,i,n,a){return(e/=a/2)<1?n/2*e*e*e+i:n/2*((e-=2)*e*e+2)+i},galleriaIn:function(t,e,i,n,a){return n*(e/=a)*e+i},galleriaOut:function(t,e,i,n,a){return-n*(e/=a)*(e-2)+i}}),i.Finger=function(){f.abs;var n=i.HAS3D=function(){var e,i,n=a.createElement("p"),o=["webkit","O","ms","Moz",""],s=0,r="transform";for(y().html.insertBefore(n,null);o[s];s++)i=o[s]?o[s]+"Transform":r,void 0!==n.style[i]&&(n.style[i]="translate3d(1px,1px,1px)",e=t(n).css(o[s]?"-"+o[s].toLowerCase()+"-"+r:r));return y().html.removeChild(n),void 0!==e&&e.length>0&&"none"!==e}(),s=function(){var t="RequestAnimationFrame";return e.requestAnimationFrame||e["webkit"+t]||e["moz"+t]||e["o"+t]||e["ms"+t]||function(t){e.setTimeout(t,1e3/60)}}(),r=function(i,a){if(this.config={start:0,duration:500,onchange:function(){},oncomplete:function(){},easing:function(t,e,i,n,a){return-n*((e=e/a-1)*e*e*e-1)+i}},this.easeout=function(t,e,i,n,a){return n*((e=e/a-1)*e*e*e*e+1)+i},i.children.length){var o=this;t.extend(this.config,a),this.elem=i,this.child=i.children[0],this.to=this.pos=0,this.touching=!1,this.start={},this.index=this.config.start,this.anim=0,this.easing=this.config.easing,n||(this.child.style.position="absolute",this.elem.style.position="relative"),t.each(["ontouchstart","ontouchmove","ontouchend","setup"],function(t,e){o[e]=function(t){return function(){t.apply(o,arguments)}}(o[e])}),this.setX=function(){var t=o.child.style;n?t.MozTransform=t.webkitTransform=t.transform="translate3d("+o.pos+"px,0,0)":t.left=o.pos+"px"},t(i).on("touchstart",this.ontouchstart),t(e).on("resize",this.setup),t(e).on("orientationchange",this.setup),this.setup(),function t(){s(t),o.loop.call(o)}()}};return r.prototype={constructor:r,setup:function(){this.width=t(this.elem).width(),this.length=f.ceil(t(this.child).width()/this.width),0!==this.index&&(this.index=f.max(0,f.min(this.index,this.length-1)),this.pos=this.to=-this.width*this.index)},setPosition:function(t){this.pos=t,this.to=t},ontouchstart:function(t){var e=t.originalEvent.touches;this.start={pageX:e[0].pageX,pageY:e[0].pageY,time:+new Date},this.isScrolling=null,this.touching=!0,this.deltaX=0,o.on("touchmove",this.ontouchmove),o.on("touchend",this.ontouchend)},ontouchmove:function(t){var e=t.originalEvent.touches;e&&e.length>1||t.scale&&1!==t.scale||(this.deltaX=e[0].pageX-this.start.pageX,null===this.isScrolling&&(this.isScrolling=!!(this.isScrolling||f.abs(this.deltaX)<f.abs(e[0].pageY-this.start.pageY))),this.isScrolling||(t.preventDefault(),this.deltaX/=!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0?f.abs(this.deltaX)/this.width+1.8:1,this.to=this.deltaX-this.index*this.width),t.stopPropagation())},ontouchend:function(t){this.touching=!1;var e=+new Date-this.start.time<250&&f.abs(this.deltaX)>40||f.abs(this.deltaX)>this.width/2,i=!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0;this.isScrolling||this.show(this.index+(e&&!i?this.deltaX<0?1:-1:0)),o.off("touchmove",this.ontouchmove),o.off("touchend",this.ontouchend)},show:function(t){t!=this.index?this.config.onchange.call(this,t):this.to=-t*this.width},moveTo:function(t){t!=this.index&&(this.pos=this.to=-t*this.width,this.index=t)},loop:function(){var t=this.to-this.pos,e=1;if(this.width&&t&&(e=f.max(.5,f.min(1.5,f.abs(t/this.width)))),this.touching||f.abs(t)<=1)this.pos=this.to,t=0,this.anim&&!this.touching&&this.config.oncomplete(this.index),this.anim=0,this.easing=this.config.easing;else{this.anim||(this.anim={start:this.pos,time:+new Date,distance:t,factor:e,destination:this.to});var i=+new Date-this.anim.time,n=this.config.duration*this.anim.factor;if(i>n||this.anim.destination!=this.to)return this.anim=0,void(this.easing=this.easeout);this.pos=this.easing(null,i,this.anim.start,this.anim.distance,n)}this.setX()}},r}(),t.fn.galleria=function(e){var n=this.selector;return t(this).length?this.each(function(){t.data(this,"galleria")&&(t.data(this,"galleria").destroy(),t(this).find("*").hide()),t.data(this,"galleria",(new i).init(this,e))}):(t(function(){t(n).length?t(n).galleria(e):i.utils.wait({until:function(){return t(n).length},success:function(){t(n).galleria(e)},error:function(){i.raise('Init failed: Galleria could not find the element "'+n+'".')},timeout:5e3})}),this)},"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=i:(e.Galleria=i,"function"==typeof define&&define.amd&&define("galleria",["jquery"],function(){return i}))}(jQuery,this),function(t){t(".galleria").css("padding-top","0"),Galleria.addTheme({name:"rg",author:"Rob Denton, The Register-Guard",defaults:{transition:"slide",thumbCrop:"height",debug:!1,_toggleInfo:!0,height:.75,lightbox:!1,fullscreenDoubleTap:!1,idleMode:!1,imageMargin:0},init:function(e){Galleria.requires(1.4,"This version of Classic theme requires Galleria 1.4 or later");var i=this.$("info-link,info-close,info-text"),n=Galleria.TOUCH;!0===e._toggleInfo?i.bind("click:fast",function(){i.toggle()}):(i.show(),this.$("info-link, info-close").hide()),this.bind("thumbnail",function(e){n?t(e.thumbTarget).css("opacity",this.getIndex()?1:.6).bind("click:fast",function(){t(this).css("opacity",1).parent().siblings().children().css("opacity",.6)}):(t(e.thumbTarget).css("opacity",.6).parent().hover(function(){t(this).not(".active").children().stop().fadeTo(100,1)},function(){t(this).not(".active").children().stop().fadeTo(400,.6)}),e.index===this.getIndex()&&t(e.thumbTarget).css("opacity",1))});var a=function(e){t(e.thumbTarget).css("opacity",1).parent().siblings().children().css("opacity",.6)};this.bind("loadstart",function(t){t.cached||this.$("loader").show().fadeTo(200,.4),window.setTimeout(function(){a(t)},n?300:0),this.$("info").toggle(this.hasInfo())}),this.bind("loadfinish",function(t){this.$("loader").fadeOut(200)}),this.remove("info","tooltip","counter"),length=this.getDataLength(),this.bind("image",function(e){data=e.galleriaData,count=e.scope,length=this.getDataLength(),t(".gal-count").html(e.index+1+"/"+length),data.description.length>9?t(".gal-caption").html("  "+data.description):t(".gal-caption").html("&nbsp;"),1==length?(this.remove("image-nav"),t(".gal-count").css("display","none")):length,ga("send","event","image","load","slider")})}})}(jQuery),function(t,e,i,n){"use strict";var a=e.console||{log:function(){},warn:function(){}},o="harmonia",s={},r={init:function(e){return this.each(function(){var i,n,r,c=t(this),h=c.data(o);h||(i=t.extend({},s.external,t.fn[o].defaults,e),n=c.find("> li > a"),r=t("<select>",{class:i.selectClass}),c.data(o,{hrefs:n,init:!1,matched:!1,options:i,select:r,target:c}),h=c.data(o)),h.init?a.warn("jQuery."+o,"thinks it's already initialized on",this):l.call(c,h)})},destroy:function(){return this.each(function(){var e=t(this),i=e.data(o);i&&(e.removeClass(s.internal.initClass),i.select.remove(),e.removeData(o))})}},l=function(i){var n;void 0===i&&(i=this.data(o)),i&&(i.init=!0,i.options.onInit.call(i.target),i.hrefs.length?(i.target.addClass(s.internal.initClass),i.options.defaultOption&&(n=c.call(i.target,t("<a />"),i.options.defaultOption)).length&&n.appendTo(i.select),i.hrefs.each(function(){var e=c.call(i.target,t(this));e.length&&e.appendTo(i.select)}),i.select.change(function(){var n,a=t(this);i.options.onChange.call(i.target,a),(n=a.val())&&"#"!==n&&n!==i.options.defaultOption&&(i.options.openTab?e.open(n):e.location=n)}).insertBefore(i.target),i.options.onAfterInit.call(i.target)):a.warn("jQuery."+o,"thinks there's a problem with your markup"))},c=function(i,n){var s,r,l,c,u,d="",p=this.data(o);return p&&((n=void 0!==n&&n.length?n:h.call(i)).length?(s=t("<option />"),r=!1,l=i.attr("href")||"",p.matched||("selected"==i.attr("class")?r=!0:p.options.currentPage&&"#"!=l&&((c=e.location.href.toLowerCase())!=(u=l.toLowerCase())&&-1==c.indexOf(u)||(r=!0)),r&&(s.attr("selected","selected"),p.matched=!0)),s.attr("value",l),d=s.text(t.trim(n))):a.warn("jQuery."+o,"thinks there's no text for",this)),p.options.onAddOption.call(this,d),d},h=function(){return this.length?this.clone().children().remove().end().text():""};t.fn[o]=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("jQuery."+o+" thinks that "+e+" doesn't exist"):r.init.apply(this,arguments)},s.internal={initClass:o+"-js-enabled"},s.external={currentPage:!1,defaultOption:"Choose...",openTab:!1,selectClass:o+"-select",selectId:!1,onInit:t.noop,onAfterInit:t.noop,onAddOption:t.noop,onChange:t.noop},t.fn[o].defaults=s.external}(jQuery,window,document),function(t,e,i,n){"use strict";var a=e.console||{log:function(){},warn:function(){}},o="ion",s={alwaysOpen:!1,allowMultiple:!1,classHead:"ion-head",classHeadSelected:"ion-head-selected",classPanel:"ion-panel",classPanelOpen:"ion-panel-open",classSingle:"",animIn:{opacity:"show",height:"show"},animOut:{opacity:"hide",height:"hide"},easeIn:"swing",easeOut:"swing",speedIn:"normal",speedOut:"normal",onInit:t.noop,onAfterInit:t.noop,onBeforeShow:t.noop,onShow:t.noop,onBeforeHide:t.noop,onHide:t.noop},r={init:function(e){return this.each(function(){var i,n=t(this),r=n.data(o);r||(i=t.extend(!0,{},s,e,n.data("ionOptions")),n.data(o,{init:!1,settings:i,target:n}),r=n.data(o)),r.init?a.warn("jQuery.ion","thinks it's already initialized on",this):l.call(n,r)})},destroy:function(){return this.each(function(){var e=t(this),i=e.data(o);i&&(e.removeData(o).find("."+i.settings.classHead).removeData("ion.toggled").off("click.ion").removeClass(i.settings.classHeadSelected).next("."+i.settings.classPanel).removeClass(i.settings.classPanelOpen).css("display",""),i.settings.classSingle.length&&t("."+i.settings.classSingle).off("click.ion"))})}},l=function(e){var i,n,s,r,l=t(this);void 0===e&&(e=this.data(o)),e&&(e.init=!0,e.settings.onInit.call(e.target),i=l.find("."+e.settings.classHead),s=l.find("."+e.settings.classPanel),i.length&&s.length?(i.filter(location.hash).addClass(e.settings.classHeadSelected),n=i.filter("."+e.settings.classHeadSelected),r=s.filter("."+e.settings.classPanelOpen),!e.settings.alwaysOpen||n.length||r.length||(n=i.first(),r=s.first()),s.not(r).hide(),c.call(n.add(r.prev("."+e.settings.classHead)),e),e.settings.classSingle.length&&t("."+e.settings.classSingle).on("click.ion",function(e){e.preventDefault(),i.filter(t(this).attr("href")).trigger("click.ion")}),i.on("click.ion",function(n){var a=t(this);n.preventDefault(),a.data("ion.toggled")?(!e.settings.alwaysOpen||e.settings.alwaysOpen&&s.filter("."+e.settings.classPanelOpen).length>1)&&h.call(a,e):(e.settings.allowMultiple||h.call(i.not(a),e),c.call(a,e))})):a.warn("jQuery.ion","thinks your're missing head(s) and/or panel(s) for",this),e.settings.onAfterInit.call(e.target))},c=function(e){var i=t(this);e.settings.onBeforeShow.call(e.target,i),i.data("ion.toggled",!0).addClass(e.settings.classHeadSelected).next("."+e.settings.classPanel).addClass(e.settings.classPanelOpen).stop(!0,!0).animate(e.settings.animIn,e.settings.speedIn,e.settings.easeIn,function(){e.settings.onShow.call(e.target,i,t(this))})},h=function(e){var i=t(this);e.settings.onBeforeHide.call(e.target,i),i.removeData("ion.toggled").removeClass(e.settings.classHeadSelected).next("."+e.settings.classPanel).removeClass(e.settings.classPanelOpen).stop(!0,!0).animate(e.settings.animOut,e.settings.speedOut,e.settings.easeOut,function(){e.settings.onHide.call(e.target,i,t(this))})};t.fn[o]=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("jQuery.ion thinks that "+e+" doesn't exist"):r.init.apply(this,arguments)}}(jQuery,window,document),function(t){function e(){}function i(t){s=[t]}function n(t,e,i){return t&&t.apply(e.context||e,i)}function a(t){return/\?/.test(t)?"&":"?"}function o(o){function A(t){G++||(Y(),q&&(C[U]={s:[t]}),j&&(t=j.apply(o,[t])),n(L,o,[t,b,o]),n(M,o,[o,b]))}function D(t){G++||(Y(),q&&t!=_&&(C[U]=t),n(z,o,[o,t]),n(M,o,[o,t]))}var P,$,N,F,H,L=(o=t.extend({},S,o)).success,z=o.error,M=o.complete,j=o.dataFilter,R=o.callbackParameter,Q=o.callback,W=o.cache,q=o.pageCache,B=o.charset,U=o.url,X=o.data,V=o.timeout,G=0,Y=e;return k&&k(function(t){t.done(L).fail(z),L=t.resolve,z=t.reject}).promise(o),o.abort=function(){!G++&&Y()},!1===n(o.beforeSend,o,[o])||G?o:(U=U||c,X=X?"string"==typeof X?X:t.param(X,o.traditional):c,U+=X?a(U)+X:c,R&&(U+=a(U)+encodeURIComponent(R)+"=?"),!W&&!q&&(U+=a(U)+"_"+(new Date).getTime()+"="),U=U.replace(/=\?(&|$)/,"="+Q+"$1"),q&&(P=C[U])?P.s?A(P.s[0]):D(P):(x[Q]=i,(N=t(w)[0]).id=d+I++,B&&(N[l]=B),O&&O.version()<11.6?(F=t(w)[0]).text="document.getElementById('"+N.id+"')."+f+"()":N[r]=r,E&&(N.htmlFor=N.id,N.event=p),N[g]=N[f]=N[m]=function(t){if(!N[v]||!/i/.test(N[v])){try{N[p]&&N[p]()}catch(t){}t=s,s=0,t?A(t[0]):D(h)}},N.src=U,Y=function(t){H&&clearTimeout(H),N[m]=N[g]=N[f]=null,T[y](N),F&&T[y](F)},T[u](N,$=T.firstChild),F&&T[u](F,$),H=V>0&&setTimeout(function(){D(_)},V)),o)}var s,r="async",l="charset",c="",h="error",u="insertBefore",d="_jqjsp",p="onclick",f="on"+h,g="onload",m="onreadystatechange",v="readyState",y="removeChild",w="<script>",b="success",_="timeout",x=window,k=t.Deferred,T=t("head")[0]||document.documentElement,C={},I=0,S={callback:d,url:location.href},O=x.opera,E=!!t("<div>").html("\x3c!--[if IE]><i><![endif]--\x3e").find("i").length;o.setup=function(e){t.extend(S,e)},t.jsonp=o}(jQuery),function(t,e,i,n){"use strict";var a=e.console||{log:function(){},warn:function(){}},o="kerplop",s={from:"",to:"",use:"html",flag:"kerplopped",onInit:t.noop,onAfterInit:t.noop},r={init:function(e){return this.each(function(){var i,n,r,c,h,u=t(this),d=u.data(o);d||(i=t.extend({},s,e),n=u.data("kerplop-from"),r=u.data("kerplop-to"),c=u.data("kerplop-use"),h=u.data("kerplop-flag"),u.data(o,{flag:h||i.flag,from:n?t("#"+n):i.from.length?t("#"+i.from):"",init:!1,settings:i,target:u,to:r?t("#"+r):i.to.length?t("#"+i.to):"",use:c&&/^(?:after|append|before|html|prepend|text)$/.test(c)?c:i.use}),d=u.data(o)),d.init?a.warn("jQuery."+o,"thinks it's already initialized on",this):l.call(u,d)})},destroy:function(){return this.each(function(){var e=t(this),i=e.data(o);i&&((i.from||i.to).removeClass(i.flag),e.removeData(o))})}},l=function(t){void 0===t&&(t=this.data(o)),t&&(t.init=!0,t.settings.onInit.call(t.target,t.from,t.to),t.from.length&&t.target[t.use](t.from.addClass(t.flag).html()),t.to.length&&t.to[t.use](t.target.addClass(t.flag).html()),t.settings.onAfterInit.call(t.target,t.from,t.to))};t.fn[o]=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("jQuery."+o+" thinks that "+e+" doesn't exist"):r.init.apply(this,arguments)}}(jQuery,window,document),function(t,e,i,n){"use strict";var a=e.console||{log:function(){},warn:function(){}},o={},s={NS:"megakrill",PREFIX:"mk"},r={init:function(e){return this.each(function(){var i,n,r,c,h=t(this),u=h.data(s.NS);u||(i=t.extend({},o.external,t.fn[s.NS].defaults,e),n=t("<div />",{class:s.NS}),r=t("<div />",{class:o.internal.toggleClass}),c=t("<a />",{class:o.internal.closedClass,href:"#"}),h.data(s.NS,{a:c,init:!1,options:i,target:h,toggle:r,wrap:n}),u=h.data(s.NS)),u.init?a.warn("jQuery."+s.NS,"thinks it's already initialized on",this):l.call(h,u)})},destroy:function(){return this.each(function(){var e=t(this),i=e.data(s.NS);i&&(i.options.clone||i.target.removeAttr("style"),i.wrap.remove(),e.removeData(s.NS))})}},l=function(t){var e;void 0===t&&(t=this.data(s.NS)),t&&(t.init=!0,t.options.onInit.call(t.target),t.target.length?(e=t.options.clone?c.call(t.target):t.target,t.a.appendTo(t.toggle),h.call(t.target,t.a,e),t.wrap.append(t.toggle),t.options.clone&&t.wrap.append(e),t.wrap.insertBefore(t.target),t.options.onAfterInit.call(t.target)):a.warn("jQuery."+s.NS,"thinks there's a problem with your markup"))},c=function(){var t,e=this.data(s.NS),i=this.clone();return"string"==typeof e.options.cloneId?i.attr("id",e.options.cloneId):e.options.cloneId?(t=i.attr("id"))&&i.attr("id",s.PREFIX+"-"+t):i.removeAttr("id"),e.options.cloneRemove&&i.find(e.options.cloneRemove).remove(),i.addClass(o.internal.cloneClass).hide(),i},h=function(e,i){var n=this.data(s.NS);e.on("click."+s.NS+" touchstart."+s.NS,function(e){var a,r;e.handled||(r=(a=t(this)).data(s.NS+".toggled"),a.data(s.NS+".toggled",!r),r?(n.options.onBeforeHide.call(i),i.stop(!0).animate(n.options.animOut,n.options.speedOut,n.options.easeOut,function(){a.removeClass().addClass(o.internal.closedClass),n.options.onHide.call(t(this))})):(n.options.onBeforeShow.call(i),a.removeClass().addClass(o.internal.openedClass),i.stop(!0).animate(n.options.animIn,n.options.speedIn,n.options.easeIn,function(){n.options.onShow.call(t(this))})),e.handled=!0),e.preventDefault(),e.stopPropagation()})};t.fn[s.NS]=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("jQuery."+s.NS+" thinks that "+e+" doesn't exist"):r.init.apply(this,arguments)},o.internal={cloneClass:s.PREFIX+"-clone",closedClass:s.PREFIX+"-closed",openedClass:s.PREFIX+"-opened",toggleClass:s.PREFIX+"-toggle"},o.external={animIn:{height:"toggle"},animOut:{height:"toggle"},clone:!0,cloneId:!0,easeIn:"swing",easeOut:"swing",cloneRemove:!1,speedIn:"normal",speedOut:"normal",onInit:t.noop,onAfterInit:t.noop,onBeforeShow:t.noop,onShow:t.noop,onBeforeHide:t.noop,onHide:t.noop},t.fn[s.NS].defaults=o.external}(jQuery,window,document),function(t,e,i,n){"use strict";var a=e.console||{log:function(){},warn:function(){}},o="ontouchstart"in e||e.DocumentTouch&&i instanceof DocumentTouch,s={},r={NS:"megawhale",PREFIX:"mw",TOUCH:o,TYPE:o?"touchstart":"click"},l={init:function(e){return this.each(function(){var i,n,o,l,h=t(this),u=h.data(r.NS);u||(i=t.extend({},s.external,t.fn[r.NS].defaults,e),l=(o=(n=h.children("li").children("div")).parent("li")).children("a"),h.data(r.NS,{divs:n,hrefs:l,init:!1,lis:o,options:i,outside:!1,target:h}),u=h.data(r.NS)),u.init?a.warn("jQuery."+r.NS,"thinks it's already initialized on",this):c.call(h,u)})},open:function(e){return void 0===e&&(e=this),e.each(function(){var e,i=t(this),n=i.parent().data(r.NS);i.hasClass(n.options.openClass)||(e=i.children("div"),i.addClass(n.options.openClass).siblings().removeClass(n.options.openClass).children("div").stop(!0).hide().css("visibility","hidden"),e.filter(":hidden").css("visibility","visible"),n.options.onBeforeShow.call(e),e.animate(n.options.animIn,n.options.speedIn,n.options.easeIn,function(){n.options.onShow.call(t(this))}))})},close:function(e){return void 0===e&&(e=this),e.each(function(){var e,i=t(this),n=i.parent().data(r.NS);i.hasClass(n.options.openClass)&&(e=i.children("div"),i.children("a").removeClass(s.internal.clickClass).blur(),n.options.onBeforeHide.call(e),e.animate(n.options.animOut,n.options.speedOut,n.options.easeOut,function(){var e=t(this);e.hide().css("visibility","hidden").parent().removeClass(n.options.openClass),n.options.onHide.call(e)}))})},destroy:function(){return this.each(function(){var e=t(this),i=e.data(r.NS);i&&(i.divs.removeAttr("style"),("click"===i.options.eventType||r.TOUCH)&&i.options.close&&i.divs.find("."+s.internal.closeClass).remove(),i.hrefs.off("."+r.NS),i.options.arrow&&i.hrefs.removeClass(s.internal.anchorClass).find("."+s.internal.arrowClass).remove(),i.hrefs.removeClass(s.internal.clickClass),i.lis.removeData(r.NS+".mousedown").off("."+r.NS),i.target.removeClass(s.internal.menuClass),e.removeData(r.NS))})}},c=function(i){void 0===i&&(i=this.data(r.NS)),i&&(i.init=!0,i.options.onInit.call(i.target),i.divs.length===i.hrefs.length?(i.target.addClass(s.internal.menuClass),i.divs.hide(),i.options.eventType=/^(?:click|hover|hoverIntent)$/.test(i.options.eventType)?i.options.eventType:"hover",i.options.arrow&&i.hrefs.addClass(s.internal.anchorClass).append(i.options.arrow),("click"===i.options.eventType||r.TOUCH)&&i.options.close&&t(i.options.close).appendTo(i.divs).on(r.TYPE+"."+r.NS,function(e){var i=t(this).parent("div").parent("li");l.close.call(i),e.preventDefault(),e.stopPropagation()}),i.hrefs.on("mousedown."+r.NS+" mouseup."+r.NS+" focus."+r.NS,function(e){var n=t(this),a=n.parent("li");switch(e.type){case"mousedown":a.data(r.NS+".mousedown",!0);break;case"mouseup":a.removeData(r.NS+".mousedown");break;case"focus":a.data(r.NS+".mousedown")||(r.TOUCH||"click"===i.options.eventType?n.click():(i.options.eventOutside&&h(i),l.open.call(a)))}e.preventDefault(),e.stopPropagation()}),r.TOUCH||"click"===i.options.eventType?i.hrefs.on(r.TYPE+"."+r.NS,function(n){var a,o=t(this),r=o.parent("li");o.hasClass(s.internal.clickClass)?(i.options.eventOutside&&u(i),l.close.call(r),(a=d.call(o))&&(e.location=a)):(i.options.eventOutside&&h(i),i.hrefs.removeClass(s.internal.clickClass),o.addClass(s.internal.clickClass),l.open.call(r)),n.preventDefault(),n.stopPropagation()}):i.lis.on("mouseenter."+r.NS+" mouseleave."+r.NS,function(e){var n=t(this);switch(e.type){case"mouseenter":i.options.eventOutside&&u(i),t.fn[r.NS].hoverEnter.call(n);break;case"mouseleave":t.fn[r.NS].hoverLeave.call(n)}}),i.options.onAfterInit.call(i.target)):a.warn("jQuery."+r.NS,"thinks there's a problem with your markup"))},h=function(e){var n;e.outside||(e.outside=!0,e.options.onStartOutside.call(e.target),(n=t(i)).off("."+r.NS),n.on("focusin."+r.NS+" "+r.TYPE+"."+r.NS,function(i){if(0!==t(i.target).closest(e.target).length)return!0;u(e),l.close.call(e.lis)}))},u=function(e){e.outside&&(e.options.onEndOutside.call(e.target),e.outside=!1,t(i).off("."+r.NS))},d=function(){var t=this.attr("href");return!(!t||"#"===t)&&t};t.fn[r.NS]=function(e){return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("jQuery."+r.NS+" thinks that "+e+" doesn't exist"):l.init.apply(this,arguments)},t.fn[r.NS].hoverEnter=function(){return this.each(function(){var e=t(this),i=e.parent().data(r.NS);t.fn.doTimeout&&"hoverIntent"===i.options.eventType?e.doTimeout("hover",i.options.delayIn,function(){l.open.call(t(this))}):l.open.call(e)})},t.fn[r.NS].hoverLeave=function(){return this.each(function(){var e=t(this),i=e.parent().data(r.NS);t.fn.doTimeout&&"hoverIntent"===i.options.eventType?e.doTimeout("hover",i.options.delayOut,function(){l.close.call(t(this))}):l.close.call(e)})},s.internal={anchorClass:r.PREFIX+"-a-with-div",arrowClass:r.PREFIX+"-arrow",clickClass:r.PREFIX+"-a-clicked",closeClass:r.PREFIX+"-close",menuClass:r.PREFIX+"-js-enabled"},s.external={animIn:{opacity:"show"},animOut:{opacity:"hide"},arrow:'<span class="'+s.internal.arrowClass+'">&#187;</span>',close:'<span class="'+s.internal.closeClass+'">(X)</span>',delayIn:400,delayOut:700,easeIn:"swing",easeOut:"swing",eventOutside:!0,eventType:"hover",openClass:r.PREFIX+"-open",speedIn:"normal",speedOut:"normal",onInit:t.noop,onAfterInit:t.noop,onBeforeShow:t.noop,onShow:t.noop,onBeforeHide:t.noop,onHide:t.noop,onStartOutside:t.noop,onEndOutside:t.noop},t.fn[r.NS].defaults=s.external}(jQuery,window,document),function(t,e,i,n){"use strict";var a=e.console||{log:function(){},warn:function(){}},o="nutshell",s={classSelected:o+"-selected",classSingle:"",animIn:{opacity:"show"},animOut:{opacity:"hide"},easeIn:"swing",easeOut:"swing",speedIn:"normal",speedOut:"normal",onInit:t.noop,onAfterInit:t.noop,onBeforeShow:t.noop,onShow:t.noop,onBeforeHide:t.noop,onHide:t.noop},r={init:function(e){return this.each(function(){var i,n=t(this),r=n.data(o);r||(i=t.extend(!0,{},s,e,n.data(o+"Options")),n.data(o,{init:!1,settings:i,target:n}),r=n.data(o)),r.init?a.warn("jQuery."+o,"thinks it's already initialized on",this):l.call(n,r)})},destroy:function(){return this.each(function(){var e=t(this),i=e.data(o);i&&(e.removeData(o).find("a").off("click."+o).removeClass(i.settings.classSelected).each(function(){t(t(this).attr("href")).css("display","")}),i.settings.classSingle.length&&t("."+i.settings.classSingle).off("click."+o))})}},l=function(e){var i,n,a,s;void 0===e&&(e=this.data(o)),e&&(e.init=!0,e.settings.onInit.call(e.target),i=t(this).find("a"),n=t(i.filter('[href="'+location.hash+'"]')[0]||i.filter("."+e.settings.classSelected)[0]||i[0]),i.removeClass(e.settings.classSelected),n.addClass(e.settings.classSelected),i.not(n).each(function(){t(t(this).attr("href")).hide()}),(s=t(n.attr("href"))).show(),e.settings.classSingle.length&&t("."+e.settings.classSingle).on("click."+o,function(e){e.preventDefault(),i.filter('[href="'+t(this).attr("href")+'"]').trigger("click."+o)}),i.on("click."+o,function(i){var o=t(this);i.preventDefault(),o.hasClass(e.settings.classSelected)||(n.removeClass(e.settings.classSelected),a=n,(n=o).addClass(e.settings.classSelected),e.settings.onBeforeHide.call(e.target,n,a,s),s.stop().animate(e.settings.animOut,e.settings.speedOut,e.settings.easeOut,function(){e.settings.onHide.call(e.target,n,a,t(this)),s=t(o.attr("href")),e.settings.onBeforeShow.call(e.target,n,a,s),s.stop().animate(e.settings.animIn,e.settings.speedIn,e.settings.easeIn,function(){e.settings.onShow.call(e.target,n,a,t(this))})}))}),e.settings.onAfterInit.call(e.target))};t.fn[o]=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("jQuery."+o+" thinks that "+e+" doesn't exist"):r.init.apply(this,arguments)}}(jQuery,window,document),function(t,e,i,n){"use strict";function a(t,i,n){void 0!==e.storyMeta&&void 0!==e.ga&&(1==i&&e.ga("send","pageview",{dimension1:e.storyMeta.d1,dimension2:e.storyMeta.d2,dimension3:e.storyMeta.d3,dimension4:e.storyMeta.d4,dimension5:e.storyMeta.d5,dimension6:e.storyMeta.d6,dimension7:e.storyMeta.d7,dimension8:t}),1==n&&e.ga("send","event","image","load","prog"))}e.addEventListener&&e.requestAnimationFrame&&i.getElementsByClassName&&e.addEventListener("load",function(){function t(t,e){function i(){t.addEventListener("click",function(t){t.preventDefault()},!1),t.appendChild(n).addEventListener("animationend",function(e){var i=t.querySelector&&t.querySelector("img.preview");i&&(e.target.alt=i.alt||"",t.removeChild(i),e.target.classList.remove("reveal"))})}if(t&&t.href){var n=new Image;t.dataset&&(n.srcset=t.dataset.srcset||"",n.sizes=t.dataset.sizes||"",n.dataset.pct=t.dataset.pct||""),n.src=t.href,n.className="reveal",n.complete?i():n.onload=i,1==e?a(n.dataset.pct,!1,!0):a(n.dataset.pct,!0,!0)}}function n(){for(var i,n,a=e.pageYOffset,o=a+e.innerHeight+600,s=0;s<r.length;)a<(n=a+(i=r[s].getBoundingClientRect()).top)+i.height&&o>n?(t(r[s],c),c=!1,r[s].classList.remove("replace")):s++}function o(){s=s||setTimeout(function(){s=null,e.requestAnimationFrame(n)},300)}var s,r=i.getElementsByClassName("progressive replace"),l=i.getElementById("image-click"),c=!0;e.addEventListener("scroll",o,!1),e.addEventListener("resize",o,!1),l&&l.addEventListener("click",o,!1),n()},!1)}(jQuery,window,document),function(t){t.fn.scrollbox=function(e){var i={linear:!1,startDelay:2,delay:3,step:5,speed:32,switchItems:1,direction:"vertical",distance:"auto",autoPlay:!0,onMouseOverPause:!0,paused:!1,queue:null,listElement:"ul",listItemElement:"li"};return e=t.extend(i,e),e.scrollOffset="vertical"===e.direction?"scrollTop":"scrollLeft",e.queue&&(e.queue=t("#"+e.queue)),this.each(function(){var i,n,a,o,s,r,l=t(this),c=null,h=null,u=!1;e.onMouseOverPause&&(l.bind("mouseover",function(){u=!0}),l.bind("mouseout",function(){u=!1})),i=l.children(e.listElement+":first-child"),s=function(){if(!u){var t,n,o,s,r;if(t=i.children(e.listItemElement+":first-child"),s="auto"!==e.distance?e.distance:"vertical"===e.direction?t.outerHeight(!0):t.outerWidth(!0),e.linear?o=Math.min(l[0][e.scrollOffset]+e.step,s):(r=Math.max(3,parseInt(.3*(s-l[0][e.scrollOffset]),10)),o=Math.min(l[0][e.scrollOffset]+r,s)),l[0][e.scrollOffset]=o,o>=s){for(n=0;n<e.switchItems;n++)e.queue&&e.queue.find(e.listItemElement).length>0?(i.append(e.queue.find(e.listItemElement)[0]),i.children(e.listItemElement+":first-child").remove()):i.append(i.children(e.listItemElement+":first-child"));l[0][e.scrollOffset]=0,clearInterval(c),e.autoPlay&&(h=setTimeout(a,1e3*e.delay))}}},r=function(){if(!u){var t,n,o,s,r;if(0===l[0][e.scrollOffset]){for(i.children(e.listItemElement).length,n=0;n<e.switchItems;n++)i.children(e.listItemElement+":last-child").insertBefore(i.children(e.listItemElement+":first-child"));t=i.children(e.listItemElement+":first-child"),s="auto"!==e.distance?e.distance:"vertical"===e.direction?t.height():t.width(),l[0][e.scrollOffset]=s}e.linear?o=Math.max(l[0][e.scrollOffset]-e.step,0):(r=Math.max(3,parseInt(.3*l[0][e.scrollOffset],10)),o=Math.max(l[0][e.scrollOffset]-r,0)),l[0][e.scrollOffset]=o,0===o&&(clearInterval(c),e.autoPlay&&(h=setTimeout(a,1e3*e.delay)))}},a=function(){clearInterval(c),c=setInterval(s,e.speed)},n=function(){clearInterval(c),c=setInterval(r,e.speed)},o=function(t){e.delay=t||e.delay,clearTimeout(h),e.autoPlay&&(h=setTimeout(a,1e3*e.delay))},e.autoPlay&&(h=setTimeout(a,1e3*e.startDelay)),l.bind("resetClock",function(t){o(t)}),l.bind("forward",function(){clearTimeout(h),a()}),l.bind("backward",function(){clearTimeout(h),n()}),l.bind("speedUp",function(t){void 0===t&&(t=Math.max(1,parseInt(e.speed/2,10))),e.speed=t}),l.bind("speedDown",function(t){void 0===t&&(t=2*e.speed),e.speed=t})})}}(jQuery),function(t){"use strict";var e,i=[];t.register=function(t){i.push(t),e&&t.call(this)},t.init=function(){e=!0;for(var t=0,n=i.length;t<n;t++)i[t].call(this)}}(window.WOOF=window.WOOF||{}),WOOF.register(function(){"use strict";var t,e,i,n=$("#finder");n.length>0&&(t=n.find("#finder_opts"),e=t.find('input[name="options"]'),i=n.find("#finder_submit"),e.removeAttr("disabled"),i.removeAttr("disabled"),n.submit(function(){n.attr("action",e.filter(":checked").val()),t.children("#finder_opt-3").is(":checked")&&n.find("#finder_keywords").attr("name","QryTxt"),e.attr({disabled:"disabled"}),i.attr({disabled:"disabled"})}))}),WOOF.register(function(){"use strict";var t,e,i,n;(function(){function a(e){$("head").append('<style type="text/css">@media only screen and (min-width: 1005px) { #forecast { background-repeat: no-repeat; background-image: url('+i+"/static/weather/"+e.code+".png); } } @media only screen and (min-width: 1005px) and (min--moz-device-pixel-ratio: 1.5), only screen and (min-width: 1005px) and (-moz-min-device-pixel-ratio: 1.5), only screen and (min-width: 1005px) and (-o-min-device-pixel-ratio: 3/2), only screen and (min-width: 1005px) and (-webkit-min-device-pixel-ratio: 1.5), only screen and (min-width: 1005px) and (min-device-pixel-ratio: 1.5), only screen and (min-width: 1005px) and (min-resolution: 1.5dppx) { #forecast { background-image: url("+i+"/static/weather/"+e.code+"@2x.png); -moz-background-size: 115px 115px; -ie-background-size: 115px 115px; -o-background-size: 115px 115px; -webkit-background-size: 115px 115px; background-size: 115px 115px; } }</style>"),t.append('<span title="'+e.skies+'"><a href="'+n+'/weather/">'+e.temp_f+"&deg;</a></span>")}return t=$("#forecast"),e="http://projects.registerguard.com",i="http://projects.registerguard.com",n="http://projects.registerguard.com",{init:function(){t.length&&($.jsonp?$.jsonp({url:e+"/weather/widget3/?callback=?",cache:!0,success:a}):$.getJSON(e+"/weather/widget3/?callback=?",a))}}})().init()}),WOOF.register(function(){"use strict";$("#bd_morgue ul").harmonia({currentPage:!0})}),WOOF.register(function(){"use strict";var t=$(".ion");t.length&&t.ion()}),WOOF.register(function(){"use strict";var t=$(".kerplop");t.length&&t.kerplop()}),WOOF.register(function(){"use strict";var t=$("#megawhale"),e=$("html");t.megakrill({cloneRemove:"li > div",cloneId:!1}).megawhale({eventType:"hoverIntent",onStartOutside:function(){e.addClass("mw-outside")},onEndOutside:function(){e.removeClass("mw-outside")}})}),WOOF.register(function(){"use strict";var t=$(".nutshell");t.length&&t.nutshell()}),WOOF.register(function(){"use strict";var t=$("#ticker1, #ticker2, #ticker3, #ticker4");t.length&&$.each(t,function(t){var e,i=$(this);i.find("ul").children().length>1&&(i.closest("dl").addClass("ticker-has-nav"),e=$("<ul>",{class:"ticker-nav"}).html('<li><a href="#">&lt;</a></li><li><a href="#">&gt;</a></li>'),i.scrollbox({delay:5+t}).after(e),e.on("click","a",function(t){var e=$(this);t.preventDefault(),e.parent().is(":first-child")?i.trigger("backward"):i.trigger("forward")}))})}),WOOF.register(function(){"use strict";var t=$(".QuickFacts-QuickFacts_Stars_sssss_Movie").text(),e=0;for(e=0;e<t.length;e++)t=t.replace("s","&#9733;");$(".QuickFacts-QuickFacts_Stars_sssss_Movie").html(t)}),WOOF.register(function(){"use strict";!function(t){$(".twitter-timeline").length&&!$("#"+t).length&&$("<script>",{id:t,src:"//platform.twitter.com/widgets.js"}).appendTo("head")}("twitter-wjs")}),$(document).ready(function(){"use strict";WOOF.init()});